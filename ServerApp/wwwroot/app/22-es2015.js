(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Seuy:function(t,e,c){"use strict";c.r(e);var n=c("tyNb"),s=c("mQu2"),i=c("ofXK"),o=c("mrSG"),r=c("fXoL"),a=c("DVlV"),l=c("C0vA"),b=c("jhN1"),d=c("mV8I"),m=c("hP6x"),u=c("+m0u"),p=c("H0s3");let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-school-card"]],hostAttrs:[1,"d-block"],inputs:{school:"school"},decls:12,vars:8,consts:[["alt","Logo image","height","320","width","320",3,"src"],[2,"padding","12px"],[1,"ms-fontSize-18",2,"line-height","24px"],[1,"ms-fontSize-12"],[1,"ms-divider","my-2"],["msButton","","icon","RedEye","theme","primary",3,"routerLink"]],template:function(t,e){1&t&&(r.Qb(0,"img",0),r.Vb(1,"div",1),r.Vb(2,"div",2),r.Ac(3),r.gc(4,"uppercase"),r.Ub(),r.Vb(5,"div"),r.Ac(6),r.Ub(),r.Vb(7,"div",3),r.Ac(8),r.Ub(),r.Qb(9,"div",4),r.Vb(10,"button",5),r.Ac(11,"VOIR"),r.Ub(),r.Ub()),2&t&&(r.lc("src",e.school.imageUrl,r.tc),r.Bb(3),r.Dc("",e.school.name," (",r.hc(4,6,e.school.acronym),")"),r.Bb(3),r.Bc(e.school.address),r.Bb(2),r.Cc("@",e.school.identifier,""),r.Bb(2),r.lc("routerLink",e.school.url))},directives:[u.b,n.c],pipes:[i.G],encapsulation:2}),t})();function f(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",9),r.dc("click",(function(){return r.rc(t),r.fc(2).add()})),r.Ac(1,"Ajouter un \xe9tablissement"),r.Ub()}}function v(t,e){1&t&&(r.Vb(0,"msAlert",10),r.Vb(1,"div"),r.Ac(2," Vous \xeates chef d'un \xe9tablissement? Ajouter votre \xe9tablissement sur notre plateforme d\xe8s maintenant. "),r.Ub(),r.Vb(3,"div",11),r.Vb(4,"button",12),r.Ac(5,"Ajouter un \xe9tablissement"),r.Ub(),r.Ub(),r.Ub())}function g(t,e){1&t&&r.Qb(0,"app-school-card",13),2&t&&r.lc("school",e.$implicit)}function U(t,e){if(1&t&&(r.Vb(0,"div",1),r.Vb(1,"div",2),r.Vb(2,"h2"),r.Ac(3),r.Ub(),r.Vb(4,"div",3),r.yc(5,f,2,0,"button",4),r.Ub(),r.Ub(),r.yc(6,v,6,0,"msAlert",5),r.Vb(7,"div",6),r.Vb(8,"ms-grid",7),r.yc(9,g,1,1,"app-school-card",8),r.Ub(),r.Ub(),r.Ub()),2&t){const t=r.fc();r.Bb(3),r.Cc(" \xc9tablissements (",t.schools.length,") "),r.Bb(2),r.lc("ngIf",t._auth.isAuthorized),r.Bb(1),r.lc("ngIf",t._auth.isAuthorized),r.Bb(2),r.lc("itemWidth",320)("itemHeight",480),r.Bb(1),r.lc("msGridItemDefOf",t.schools)}}let y=(()=>{class t{constructor(t,e,c,n,s,i){this._httpClient=t,this._schoolService=e,this._schoolLoader=c,this._auth=n,this.title=s,this.router=i,this.title.setTitle("\xc9tablissements")}pan(){console.log("paann")}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this._httpClient.list();yield this._schoolLoader.loadAll(t),this.schools=t.toArray()}))}add(){this._schoolService.add().then(t=>{t&&this.router.navigateByUrl(`/schools/${t.id}`)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a.T),r.Pb(s.c),r.Pb(a.V),r.Pb(l.a),r.Pb(b.e),r.Pb(n.b))},t.\u0275cmp=r.Jb({type:t,selectors:[["ng-component"]],decls:2,vars:1,consts:[["class","p-3",4,"ngIf"],[1,"p-3"],[1,"ms-pageTitle"],[1,"ms-hiddenSm"],["msButton","","icon","Add","theme","primary",3,"click",4,"ngIf"],["theme","standard","class","d-block my-2 ms-hiddenMdUp",4,"ngIf"],[1,"py-3"],["yGap","0",3,"itemWidth","itemHeight"],["style","background-color: var(--cardBackgroundColor)",3,"school",4,"msGridItemDef","msGridItemDefOf"],["msButton","","icon","Add","theme","primary",3,"click"],["theme","standard",1,"d-block","my-2","ms-hiddenMdUp"],[1,"mt-2"],["msButton","","icon","Add","theme","primary","routerLink","/schools/add"],[2,"background-color","var(--cardBackgroundColor)",3,"school"]],template:function(t,e){1&t&&(r.Vb(0,"app-layout"),r.yc(1,U,10,6,"div",0),r.Ub()),2&t&&(r.Bb(1),r.lc("ngIf",e.schools))},directives:[d.a,i.t,m.a,m.b,u.b,p.a,n.c,h],encapsulation:2}),t})();var V=c("EEi/"),A=c("axUC"),B=c("W7Jm"),P=c("MHz2"),I=c("SWPu"),k=c("trNy"),C=c("coJQ"),w=c("Gzle"),S=c("judq"),_=c("pY1q");let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-department-card"]],inputs:{department:"department"},decls:12,vars:7,consts:[["alt","Logo image","height","320","width","320",3,"src"],[2,"padding","12px"],[1,"ms-fontSize-18",2,"line-height","24px"],[1,"ms-divider","my-2"],[3,"routerLink"],["msButton","","icon","RedEye","theme","primary"]],template:function(t,e){1&t&&(r.Vb(0,"div"),r.Qb(1,"img",0),r.Vb(2,"div",1),r.Vb(3,"div",2),r.Ac(4),r.gc(5,"uppercase"),r.Ub(),r.Vb(6,"div"),r.Ac(7),r.Ub(),r.Qb(8,"div",3),r.Vb(9,"a",4),r.Vb(10,"button",5),r.Ac(11,"VOIR"),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Bb(1),r.lc("src",e.department.imageUrl,r.tc),r.Bb(3),r.Dc("",e.department.name," (",r.hc(5,5,e.department.acronym),")"),r.Bb(3),r.Bc(e.department.address),r.Bb(2),r.lc("routerLink",e.department.url))},directives:[n.d,u.b],pipes:[i.G],encapsulation:2}),t})();function L(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div"),r.Vb(1,"button",5),r.dc("click",(function(){return r.rc(t),r.fc(2).add()})),r.Ac(2,"Ajouter un d\xe9partement"),r.Ub(),r.Vb(3,"button",6),r.dc("click",(function(){return r.rc(t),r.fc(2).add()})),r.Ac(4,"Ajouter"),r.Ub(),r.Ub()}}function x(t,e){1&t&&r.Qb(0,"app-department-card",7),2&t&&r.lc("department",e.$implicit)}function z(t,e){if(1&t&&(r.Tb(0),r.Vb(1,"div",1),r.Vb(2,"div",2),r.Ac(3),r.Ub(),r.yc(4,L,5,0,"div",0),r.Ub(),r.Vb(5,"ms-grid",3),r.yc(6,x,1,1,"app-department-card",4),r.Ub(),r.Sb()),2&t){const t=r.fc();r.Bb(3),r.Cc(" D\xe9partements (",t.school.departments.size(),")"),r.Bb(1),r.lc("ngIf",t._auth.isAuthorized&&t.school.userPrincipal.isPrincipal),r.Bb(1),r.lc("itemWidth",320)("itemHeight",480),r.Bb(1),r.lc("msGridItemDefOf",t.school.departments.toArray())}}let Q=(()=>{class t{constructor(t,e,c,n,s,i){this.currentItems=t,this._httpClient=e,this._departmentService=c,this._departmentLoader=n,this._auth=s,this.router=i}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){w.AssertHelpers.isNotNull(this.school);const t=yield this._httpClient.list({schoolId:this.school.id});yield this._departmentLoader.loadAll(t),this.school.departments=t}))}add(){this._departmentService.add(this.school).then(t=>{t&&this.router.navigateByUrl(t.url)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(I.a),r.Pb(B.k),r.Pb(S.a),r.Pb(A.h),r.Pb(l.a),r.Pb(n.b))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-department-list"]],inputs:{school:"school"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"ms-pageTitle"],["msFontSize","20"],["yGap","0",1,"mt-3",3,"itemWidth","itemHeight"],["style","background-color: var(--cardBackgroundColor); display: inline-block",3,"department",4,"msGridItemDef","msGridItemDefOf"],["msButton","","icon","Add","theme","primary",1,"ms-hiddenSm",3,"click"],["msButton","","icon","Add","theme","primary",1,"ms-hiddenMdUp",3,"click"],[2,"background-color","var(--cardBackgroundColor)","display","inline-block",3,"department"]],template:function(t,e){1&t&&r.yc(0,z,7,5,"ng-container",0),2&t&&r.lc("ngIf",e.school.departments)},directives:[i.t,_.a,m.a,m.b,u.b,D],encapsulation:2}),t})();var H=c("ahM8"),j=c("Lfng"),G=c("OG9P");function O(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",7),r.dc("click",(function(){return r.rc(t),r.fc().addPlanners()})),r.Ac(1," Ajouter "),r.Vb(2,"span",8),r.Ac(3," des planificateurs"),r.Ub(),r.Ub()}}function J(t,e){1&t&&(r.Vb(0,"msAlert",9),r.Ac(1," Les planificateurs sont les personnes charg\xe9es de "),r.Vb(2,"b"),r.Ac(3," dresser les emplois du temps des cours et des examens!"),r.Ub(),r.Qb(4,"br"),r.Ac(5," Ce sont aussi eux qui "),r.Vb(6,"b"),r.Ac(7,"ajouteront ou supprimeront les personnes qui surveillent, corrigent, et traitent les \xe9preuves"),r.Ub(),r.Ac(8,".\n"),r.Ub())}function T(t,e){1&t&&(r.Vb(0,"ms-tableHead"),r.Vb(1,"ms-tableHeadCell",10),r.Ac(2,"#"),r.Ub(),r.Vb(3,"ms-tableHeadCell",11),r.Ac(4,"Utilisateur"),r.Ub(),r.Vb(5,"ms-tableHeadCell",12),r.Ac(6,"Date d'ajout"),r.Ub(),r.Vb(7,"msTableHeadCell",13),r.Qb(8,"i",14),r.Ub(),r.Ub())}function W(t,e){if(1&t&&r.Qb(0,"ms-persona",26),2&t){const t=r.fc().$implicit;r.lc("imageUrl",t.user.imageUrl)}}function N(t,e){if(1&t&&r.Qb(0,"ms-persona",27),2&t){const t=r.fc().$implicit;r.lc("text",t.user.name)}}function R(t,e){if(1&t&&(r.Vb(0,"div",24),r.Ac(1),r.Ub()),2&t){const t=r.fc().$implicit;r.Bb(1),r.Cc("@",null==t.user?null:t.user.username,"")}}function $(t,e){if(1&t){const t=r.Wb();r.Tb(0),r.Vb(1,"button",28),r.dc("click",(function(){r.rc(t);const e=r.fc().$implicit;return r.fc().deletePlanner(e)})),r.Ub(),r.Sb()}2&t&&(r.Bb(1),r.lc("rounded",!0))}function M(t,e){if(1&t&&(r.Vb(0,"tr",15,16),r.Vb(2,"td",17),r.Ac(3),r.Ub(),r.Vb(4,"td",17),r.Vb(5,"div",18),r.yc(6,W,1,1,"ms-persona",19),r.yc(7,N,1,1,"ms-persona",20),r.Vb(8,"div",21),r.Vb(9,"div",22),r.Ac(10),r.Ub(),r.yc(11,R,2,1,"div",23),r.Ub(),r.Ub(),r.Ub(),r.Vb(12,"ms-tableCell",24),r.Ac(13),r.gc(14,"date"),r.Ub(),r.Vb(15,"ms-tableCell"),r.yc(16,$,2,1,"ng-container",25),r.Ub(),r.Ub()),2&t){const t=e.$implicit,c=e.index,n=r.fc();r.Bb(3),r.Cc("",c+1," "),r.Bb(3),r.lc("ngIf",t.user.hasImage),r.Bb(1),r.lc("ngIf",!t.user.hasImage),r.Bb(3),r.Bc(null==t.user?null:t.user.fullName),r.Bb(1),r.lc("ngIf",null==t.user?null:t.user.username),r.Bb(2),r.Bc(r.hc(14,7,t.registrationDate)),r.Bb(3),r.lc("ngIf",n.school.userPrincipal.isPrincipal)}}const q=function(){return[]};let E=(()=>{class t{constructor(t,e){this._plannerLoader=t,this._service=e}ngAfterViewInit(){return Object(o.a)(this,void 0,void 0,(function*(){w.AssertHelpers.isNotNull(this.school),yield this._plannerLoader.loadBySchool(this.school),this.table.unshift(...this.school.planners.toArray())}))}addPlanners(){this._service.addPlanners(this.school).then(t=>{this.table.unshift(...t.toArray())})}deletePlanner(t){this._service.deletePlanner(t).then(e=>{e&&this.table.remove(this.table.items.find(e=>e.id===t.id))})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a.L),r.Pb(H.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-planner-list"]],viewQuery:function(t,e){var c;1&t&&r.Fc(j.d,!0),2&t&&r.pc(c=r.ec())&&(e.table=c.first)},inputs:{school:"school"},decls:9,vars:4,consts:[[1,"ms-pageTitle"],["msButton","","icon","Add","theme","primary",3,"click",4,"ngIf"],["theme","standard","class","mt-3",4,"ngIf"],[1,"mt-3"],["table",""],[4,"msTableHeadDef"],["ms-tableRow","",4,"ms-tableRowDef","ms-tableRowDefOf"],["msButton","","icon","Add","theme","primary",3,"click"],[1,"ms-hiddenSm"],["theme","standard",1,"mt-3"],["name","#"],["name","user"],["name","registrationDate"],["name","actions",1,"text-right"],[1,"ms-Icon","ms-Icon--SetAction"],["ms-tableRow",""],["row",""],["ms-tableCell",""],[1,"d-flex"],["size","size40",3,"imageUrl",4,"ngIf"],["size","size40",3,"text",4,"ngIf"],[1,"ml-2"],[1,"ms-fontWeight-semibold"],["class","ms-fontSize-12",4,"ngIf"],[1,"ms-fontSize-12"],[4,"ngIf"],["size","size40",3,"imageUrl"],["size","size40",3,"text"],["msIconButton","","icon","Delete","theme","error",3,"rounded","click"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"h4"),r.Ac(2,"Planificateurs"),r.Ub(),r.yc(3,O,4,0,"button",1),r.Ub(),r.yc(4,J,9,0,"msAlert",2),r.Vb(5,"ms-table",3,4),r.yc(7,T,9,0,"ms-tableHead",5),r.yc(8,M,17,9,"tr",6),r.Ub()),2&t&&(r.Bb(3),r.lc("ngIf",e.school.userPrincipal.isPrincipal),r.Bb(1),r.lc("ngIf",e.school.userPrincipal.isPrincipal),r.Bb(4),r.lc("ms-tableRowDefOf",r.nc(3,q)))},directives:[i.t,j.d,j.h,j.k,u.b,p.a,j.f,j.g,j.j,j.e,G.a,u.d],pipes:[i.f],encapsulation:2}),t})();var F=c("sytO"),K=c("HeT6"),X=c("E1cc");function Y(t,e){if(1&t&&(r.Vb(0,"div"),r.Qb(1,"app-department-list",7),r.Ub()),2&t){const t=r.fc();r.Bb(1),r.lc("school",t.school)}}function Z(t,e){if(1&t&&(r.Vb(0,"div"),r.Qb(1,"app-planner-list",7),r.Ub()),2&t){const t=r.fc();r.Bb(1),r.lc("school",t.school)}}function tt(t,e){if(1&t&&(r.Vb(0,"div"),r.Qb(1,"app-room-list",7),r.Ub()),2&t){const t=r.fc();r.Bb(1),r.lc("school",t.school)}}function et(t,e){if(1&t&&(r.Vb(0,"div"),r.Qb(1,"app-application-list",7),r.Ub()),2&t){const t=r.fc();r.Bb(1),r.lc("school",t.school)}}function ct(t,e){if(1&t&&(r.Vb(0,"div"),r.Qb(1,"app-examination-list",7),r.Ub()),2&t){const t=r.fc();r.Bb(1),r.lc("school",t.school)}}let nt=(()=>{class t{constructor(t,e){this._router=t,this.school=e.get("school")}change(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(n.b),r.Pb(I.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-school-page-layout"]],decls:20,vars:1,consts:[[3,"school","onSchoolDelete"],["id","departments"],["id","planificators"],["id","rooms"],["id","applications"],["id","examens"],[4,"msPivotContentDef"],[3,"school"]],template:function(t,e){1&t&&(r.Vb(0,"app-layout"),r.Vb(1,"app-school-banner",0),r.dc("onSchoolDelete",(function(){return e._router.navigateByUrl("/schools")})),r.Ub(),r.Vb(2,"msPivot"),r.Vb(3,"msPivotHeader"),r.Vb(4,"msPivotLabel",1),r.Ac(5,"D\xe9partments"),r.Ub(),r.Vb(6,"msPivotLabel",2),r.Ac(7,"Planificateurs"),r.Ub(),r.Vb(8,"msPivotLabel",3),r.Ac(9,"Salles"),r.Ub(),r.Vb(10,"msPivotLabel",4),r.Ac(11,"Demandes"),r.Ub(),r.Vb(12,"msPivotLabel",5),r.Ac(13,"Examens"),r.Ub(),r.Ub(),r.Vb(14,"msPivotBody"),r.yc(15,Y,2,1,"div",6),r.yc(16,Z,2,1,"div",6),r.yc(17,tt,2,1,"div",6),r.yc(18,et,2,1,"div",6),r.yc(19,ct,2,1,"div",6),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Bb(1),r.lc("school",e.school))},directives:[d.a,k.a,C.a,C.d,C.e,C.b,C.c,Q,E,F.a,K.a,X.a],encapsulation:2}),t})();var st=c("lbq7"),it=c("GKcc"),ot=c("UlGT");let rt=(()=>{class t{constructor(t){this.router=t,this.cancel=()=>this.router.navigateByUrl("/schools")}oncreated(t){this.router.navigateByUrl(t.url)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(n.b))},t.\u0275cmp=r.Jb({type:t,selectors:[["ng-component"]],decls:3,vars:1,consts:[["title","Ajouter une \xe9cole"],[1,"flex-center-cover"],[1,"flex-center",3,"oncancel","oncreated"]],template:function(t,e){1&t&&(r.Vb(0,"app-layout",0),r.Vb(1,"div",1),r.Vb(2,"app-school-add",2),r.dc("oncreated",(function(t){return e.oncreated(t)})),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Bb(2),r.lc("oncancel",e.cancel))},directives:[d.a,ot.a],encapsulation:2}),t})();c.d(e,"SchoolPageModule",(function(){return lt}));const at=[{path:"",component:y},{path:"add",component:rt,canActivate:[l.c]},{path:":schoolId",resolve:[s.b],component:nt}];let lt=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(e){return new(e||t)},imports:[[i.c,s.a,st.g,B.x,st.a,A.q,st.t,st.m,u.c,m.c,C.f,n.e.forChild(at),V.a,P.d,it.a]]}),t})()}}]);