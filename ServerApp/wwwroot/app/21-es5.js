function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{eEqg:function(e,t,r){"use strict";r.r(t);var n=r("tyNb"),i=r("injr"),a=r("ofXK"),s=r("XqJ4"),c=r("EEi/"),o=r("MHz2"),l=r("lbq7"),b=r("fXoL"),d=r("SWPu"),u=r("mV8I"),p=r("3u/O"),m=r("coJQ"),f=r("mrSG"),v=r("W7Jm"),h=r("axUC"),y=r("+m0u");function g(e,t){if(1&e){var r=b.Wb();b.Vb(0,"button",4),b.dc("click",(function(){return b.rc(r),b.fc().addLevel()})),b.Ac(1," Ajouter "),b.Vb(2,"span",5),b.Ac(3,"un niveau"),b.Ub(),b.Ub()}}function U(e,t){if(1&e&&(b.Vb(0,"span",13),b.Ac(1),b.Ub()),2&e){var r=t.$implicit;b.lc("routerLink",r.url),b.Bb(1),b.Cc(" ",r.speciality.name," ")}}function V(e,t){if(1&e&&(b.Vb(0,"div",6),b.Vb(1,"div",7),b.Vb(2,"div",8),b.Ac(3),b.Ub(),b.Vb(4,"div",9),b.Vb(5,"a",10),b.Ac(6,"D\xe9tails"),b.Ub(),b.Ub(),b.Ub(),b.Qb(7,"div",11),b.Vb(8,"div"),b.yc(9,U,2,2,"span",12),b.Ub(),b.Ub()),2&e){var r=t.$implicit;b.Bb(3),b.Cc("Niveau ",r.index+1,""),b.Bb(2),b.lc("routerLink",r.url),b.Bb(4),b.lc("ngForOf",r.levelSpecialities)}}var A,B=((A=function(){function e(t,r,n){_classCallCheck(this,e),this._levelLoader=t,this._levelSpecialityLoader=r,this.service=n}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._levelLoader.loadByDepartment(this.department);case 2:t=_createForOfIteratorHelper(this.department.levels),e.prev=3,t.s();case 5:if((r=t.n()).done){e.next=11;break}return n=r.value,e.next=9,this._levelSpecialityLoader.loadByLevel(n);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})))}},{key:"addLevel",value:function(){this.service.add(this.department)}},{key:"deleteLevel",value:function(e){this.service.delete(e)}}]),e}()).\u0275fac=function(e){return new(e||A)(b.Pb(h.o),b.Pb(h.p),b.Pb(l.p))},A.\u0275cmp=b.Jb({type:A,selectors:[["app-department-levels"]],inputs:{department:"department"},decls:7,vars:2,consts:[[1,"ms-pageTitle"],[1,"ms-fontSize-20"],["class","ml-5","msButton","","icon","Add","theme","primary",3,"click",4,"ngIf"],["class","p-3 mt-2","style","background-color: var(--cardBackgroundColor)",4,"ngFor","ngForOf"],["msButton","","icon","Add","theme","primary",1,"ml-5",3,"click"],[1,"ms-hiddenSm"],[1,"p-3","mt-2",2,"background-color","var(--cardBackgroundColor)"],[1,"d-flex","justify-content-between","align-items-center"],[1,"ms-fontSize-18","ms-fontWeight-semibold"],[1,"d-flex","align-items-center"],[1,"mr-2",3,"routerLink"],[1,"ms-divider","mb-2"],["style","border: 1px solid var(--borderColor); border-radius: 15px; display: inline-block","class","p-1 mr-2 ms-pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"p-1","mr-2","ms-pointer",2,"border","1px solid var(--borderColor)","border-radius","15px","display","inline-block",3,"routerLink"]],template:function(e,t){1&e&&(b.Vb(0,"div"),b.Vb(1,"div",0),b.Vb(2,"div",1),b.Ac(3,"Niveaux"),b.Ub(),b.yc(4,g,4,0,"button",2),b.Ub(),b.Vb(5,"div"),b.yc(6,V,10,3,"div",3),b.Ub(),b.Ub()),2&e&&(b.Bb(4),b.lc("ngIf",t.department.isPrincipalUser),b.Bb(2),b.lc("ngForOf",t.department.levels))},directives:[a.t,a.s,y.b,n.d,n.c],encapsulation:2}),A);function C(e,t){if(1&e){var r=b.Wb();b.Vb(0,"button",4),b.dc("click",(function(){b.rc(r);var e=b.fc();return e.service.add(e.department)})),b.Ac(1," Ajouter "),b.Vb(2,"span",5),b.Ac(3,"une sp\xe9cialit\xe9"),b.Ub(),b.Ub()}}function k(e,t){if(1&e&&(b.Vb(0,"span",14),b.Ac(1),b.Ub()),2&e){var r=t.$implicit;b.lc("routerLink",r.url),b.Bb(1),b.Cc(" Niveau ",r.level.index+1," ")}}function _(e,t){if(1&e&&(b.Vb(0,"div",6),b.Vb(1,"div",7),b.Vb(2,"div",8),b.Ac(3),b.Ub(),b.Vb(4,"div",9),b.Vb(5,"a",10),b.Ac(6,"D\xe9tails"),b.Ub(),b.Ub(),b.Ub(),b.Qb(7,"div",11),b.Vb(8,"div"),b.yc(9,k,2,2,"span",12),b.Ub(),b.Vb(10,"div",13),b.Ac(11),b.Ub(),b.Ub()),2&e){var r=t.$implicit;b.Bb(3),b.Bc(r.name),b.Bb(2),b.lc("routerLink",r.url),b.Bb(4),b.lc("ngForOf",r.levelSpecialities),b.Bb(2),b.Bc(r.description)}}var w,I=((w=function(){function e(t,r,n){_classCallCheck(this,e),this.service=t,this._levelSpecialityLoader=r,this._specialityLoader=n}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._specialityLoader.loadByDepartment(this.department);case 2:t=_createForOfIteratorHelper(this.department.specialities),e.prev=3,t.s();case 5:if((r=t.n()).done){e.next=11;break}return n=r.value,e.next=9,this._levelSpecialityLoader.loadBySpeciality(n);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})))}}]),e}()).\u0275fac=function(e){return new(e||w)(b.Pb(l.A),b.Pb(h.p),b.Pb(h.z))},w.\u0275cmp=b.Jb({type:w,selectors:[["app-department-specialities"]],inputs:{department:"department"},decls:7,vars:2,consts:[[1,"ms-pageTitle"],[1,"ms-fontSize-20"],["class","ml-5","msButton","","icon","Add","theme","primary",3,"click",4,"ngIf"],["class","mt-2 p-3","style","background-color: var(--cardBackgroundColor)",4,"ngFor","ngForOf"],["msButton","","icon","Add","theme","primary",1,"ml-5",3,"click"],[1,"ms-hiddenSm"],[1,"mt-2","p-3",2,"background-color","var(--cardBackgroundColor)"],[1,"d-flex","justify-content-between","align-items-center"],[1,"ms-fontSize-18","ms-fontWeight-semibold"],[1,"d-flex","align-items-center"],[1,"mr-2",3,"routerLink"],[1,"ms-divider","mb-3"],["style","border: 1px solid var(--borderColor); border-radius: 15px","class","ms-pointer p-1 mr-2",3,"routerLink",4,"ngFor","ngForOf"],[1,"mt-3"],[1,"ms-pointer","p-1","mr-2",2,"border","1px solid var(--borderColor)","border-radius","15px",3,"routerLink"]],template:function(e,t){1&e&&(b.Vb(0,"div"),b.Vb(1,"div",0),b.Vb(2,"div",1),b.Ac(3,"Sp\xe9cialit\xe9s"),b.Ub(),b.yc(4,C,4,0,"button",2),b.Ub(),b.Vb(5,"div"),b.yc(6,_,12,4,"div",3),b.Ub(),b.Ub()),2&e&&(b.Bb(4),b.lc("ngIf",t.department.isPrincipalUser),b.Bb(2),b.lc("ngForOf",t.department.specialities))},directives:[a.t,a.s,y.b,n.d,n.c],encapsulation:2}),w),x=r("gfj+");function P(e,t){1&e&&(b.Vb(0,"span",7),b.Ac(1,"Administrateur"),b.Ub())}function S(e,t){1&e&&(b.Vb(0,"span",8),b.Ac(1,"D\xe9l\xe9gu\xe9"),b.Ub())}function T(e,t){1&e&&(b.Vb(0,"span",8),b.Ac(1,"Correcteur"),b.Ub())}function L(e,t){1&e&&(b.Vb(0,"span",8),b.Ac(1,"Surveillant"),b.Ub())}function D(e,t){1&e&&(b.Vb(0,"span",8),b.Ac(1,"S\xe9cr\xe9taire"),b.Ub())}function O(e,t){1&e&&(b.Vb(0,"span",9),b.Ac(1,"\xc9tudiant"),b.Ub())}function R(e,t){if(1&e&&(b.Vb(0,"div",10),b.Vb(1,"dl"),b.Vb(2,"dt"),b.Ac(3,"\xc9tudiants"),b.Ub(),b.Vb(4,"dd"),b.Ac(5),b.Ub(),b.Ub(),b.Vb(6,"dl"),b.Vb(7,"dt"),b.Ac(8,"Niveaux"),b.Ub(),b.Vb(9,"dd"),b.Ac(10),b.Ub(),b.Ub(),b.Vb(11,"dl"),b.Vb(12,"dt"),b.Ac(13,"Sp\xe9cialit\xe9s"),b.Ub(),b.Vb(14,"dd"),b.Ac(15),b.Ub(),b.Ub(),b.Vb(16,"dl"),b.Vb(17,"dt"),b.Ac(18,"Cours"),b.Ub(),b.Vb(19,"dd"),b.Ac(20),b.Ub(),b.Ub(),b.Vb(21,"dl"),b.Vb(22,"dt"),b.Ac(23,"Salles"),b.Ub(),b.Vb(24,"dd"),b.Ac(25),b.Ub(),b.Ub(),b.Ub()),2&e){var r=b.fc();b.Bb(5),b.Bc(r.department.statistics.studentCount),b.Bb(5),b.Bc(r.department.statistics.levelCount),b.Bb(5),b.Bc(r.department.statistics.specialityCount),b.Bb(5),b.Bc(r.department.statistics.courseCount),b.Bb(5),b.Bc(r.department.statistics.roomCount)}}var j,H=((j=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._httpClient.statistics(this.department);case 2:this.department.statistics=e.sent;case 3:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||j)(b.Pb(v.k))},j.\u0275cmp=b.Jb({type:j,selectors:[["app-department-home-page"]],inputs:{department:"department"},decls:13,vars:9,consts:[["class","ms-badge m-1","msBgColor","sharedRed20",4,"ngIf"],["class","ms-badge m-1","msBgColor","sharedYellowGreen10",4,"ngIf"],["class","ms-badge m-1","msBgColor","sharedCyanBlue10",4,"ngIf"],[2,"display","flex","flex-wrap","wrap"],["class"," ms-sm-w100 ms-description-list m-2",4,"ngIf"],[1,"m-2","ms-sm-w100",2,"min-width","300px"],[3,"department"],["msBgColor","sharedRed20",1,"ms-badge","m-1"],["msBgColor","sharedYellowGreen10",1,"ms-badge","m-1"],["msBgColor","sharedCyanBlue10",1,"ms-badge","m-1"],[1,"ms-sm-w100","ms-description-list","m-2"]],template:function(e,t){1&e&&(b.Vb(0,"div"),b.yc(1,P,2,0,"span",0),b.yc(2,S,2,0,"span",1),b.yc(3,T,2,0,"span",1),b.yc(4,L,2,0,"span",1),b.yc(5,D,2,0,"span",1),b.yc(6,O,2,0,"span",2),b.Ub(),b.Vb(7,"div",3),b.yc(8,R,26,5,"div",4),b.Vb(9,"div",5),b.Qb(10,"app-department-levels",6),b.Ub(),b.Vb(11,"div",5),b.Qb(12,"app-department-specialities",6),b.Ub(),b.Ub()),2&e&&(b.Bb(1),b.lc("ngIf",t.department.isPrincipalUser),b.Bb(1),b.lc("ngIf",t.department.isPrincipal),b.Bb(1),b.lc("ngIf",t.department.isCorrector),b.Bb(1),b.lc("ngIf",t.department.isSupervisor),b.Bb(1),b.lc("ngIf",t.department.isSecretary),b.Bb(1),b.lc("ngIf",t.department.isStudent),b.Bb(2),b.lc("ngIf",t.department.statistics),b.Bb(2),b.lc("department",t.department),b.Bb(2),b.lc("department",t.department))},directives:[a.t,B,I,x.a],styles:[""],encapsulation:2}),j),Q=r("sytO"),F=r("de21"),N=r("ubYI"),E=r("Gzle"),M=r("Lfng"),J=r("DVlV"),W=r("A/bf");function z(e,t){if(1&e){var r=b.Wb();b.Vb(0,"button",4),b.dc("click",(function(){return b.rc(r),b.fc().addTeachers()})),b.Ac(1," Ajouter "),b.Vb(2,"span",5),b.Ac(3,"des enseignants"),b.Ub(),b.Ub()}}var $=function(){return["registrationDate","date"]};function Z(e,t){1&e&&(b.Vb(0,"msTableHead"),b.Vb(1,"ms-tableHeadCell",6),b.Ac(2,"#"),b.Ub(),b.Vb(3,"ms-tableHeadCell",7),b.Ac(4,"Utilisateur"),b.Ub(),b.Vb(5,"ms-tableHeadCell",8),b.Ac(6,"Date d'ajout"),b.Ub(),b.Vb(7,"msTableHeadCell",9),b.Qb(8,"i",10),b.Ub(),b.Ub()),2&e&&(b.Bb(5),b.lc("sortBy",b.nc(1,$)))}function q(e,t){if(1&e){var r=b.Wb();b.Tb(0),b.Vb(1,"button",15),b.Ac(2,"D\xe9tails"),b.Ub(),b.Vb(3,"button",16),b.dc("click",(function(){b.rc(r);var e=b.fc().$implicit;return b.fc().deleteTeacher(e)})),b.Ub(),b.Sb()}if(2&e){var n=b.fc().$implicit;b.Bb(1),b.lc("routerLink",n.url),b.Bb(2),b.lc("rounded",!0)}}function G(e,t){if(1&e&&(b.Vb(0,"msTableRow"),b.Vb(1,"msTableCell"),b.Ac(2),b.Ub(),b.Vb(3,"msTableCell"),b.Qb(4,"user-persona",11),b.Ub(),b.Vb(5,"msTableCell",12),b.Ac(6),b.gc(7,"date"),b.Ub(),b.Vb(8,"msTableCell",13),b.yc(9,q,4,2,"ng-container",14),b.Ub(),b.Ub()),2&e){var r=t.$implicit,n=t.index,i=b.fc();b.Bb(2),b.Bc(n+1),b.Bb(2),b.lc("user",r.user),b.Bb(2),b.Bc(b.hc(7,4,r.registrationDate)),b.Bb(3),b.lc("ngIf",i.department.isPrincipalUser)}}var K,X=((K=function(){function e(t,r){_classCallCheck(this,e),this._teacherLoader=t,this._service=r,this.teachers=[]}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.AssertHelpers.isNotNull(this.department),e.next=3,this._teacherLoader.loadByDepartment(this.department);case 3:(t=this.table).unshift.apply(t,_toConsumableArray(this.department.teachers.toArray()));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"addTeachers",value:function(){var e=this;this._service.addTeachers(this.department).then((function(t){var r;return(r=e.table).unshift.apply(r,_toConsumableArray(t))}))}},{key:"deleteTeacher",value:function(e){var t=this;this._service.deleteTeacher(e).then((function(r){r&&t.table.remove(e)}))}}]),e}()).\u0275fac=function(e){return new(e||K)(b.Pb(J.nb),b.Pb(N.a))},K.\u0275cmp=b.Jb({type:K,selectors:[["app-teacher-list"]],viewQuery:function(e,t){var r;1&e&&b.Fc(M.d,!0),2&e&&b.pc(r=b.ec())&&(t.table=r.first)},inputs:{department:"department"},decls:7,vars:2,consts:[[1,"ms-pageTitle"],["msButton","","icon","Add","theme","primary",3,"click",4,"ngIf"],[4,"ms-tableHeadDef"],[4,"ms-tableRowDef","ms-tableRowDefOf"],["msButton","","icon","Add","theme","primary",3,"click"],[1,"ms-hiddenSm"],["name","#"],["name","user"],["name","registrationDate",3,"sortBy"],["name","actions",1,"text-right"],[1,"ms-Icon","ms-Icon--SetAction"],[3,"user"],[1,"ms-fontSize-12"],[1,"text-right"],[4,"ngIf"],["msButton","","theme","standard",1,"mr-2",3,"routerLink"],["msIconButton","","icon","Delete","theme","error",3,"rounded","click"]],template:function(e,t){1&e&&(b.Vb(0,"div",0),b.Vb(1,"h4"),b.Ac(2,"Enseignants"),b.Ub(),b.yc(3,z,4,0,"button",1),b.Ub(),b.Vb(4,"ms-table"),b.yc(5,Z,9,2,"msTableHead",2),b.yc(6,G,10,6,"msTableRow",3),b.Ub()),2&e&&(b.Bb(3),b.lc("ngIf",t.department.isPrincipalUser),b.Bb(3),b.lc("ms-tableRowDefOf",t.teachers))},directives:[a.t,M.d,M.h,M.k,y.b,M.f,M.g,M.j,M.e,W.a,n.c,y.d],pipes:[a.f],encapsulation:2}),K),Y=r("HeT6"),ee=new b.q("PRINCIPAL_SERVICE_TOKEN");function te(e,t){if(1&e){var r=b.Wb();b.Vb(0,"button",4),b.dc("click",(function(){return b.rc(r),b.fc().addPrincipals()})),b.Ac(1," Ajouter "),b.Vb(2,"span",5),b.Ac(3,"des d\xe9l\xe9gu\xe9s"),b.Ub(),b.Ub()}}var re=function(){return["registrationDate","date"]};function ne(e,t){1&e&&(b.Vb(0,"msTableHead"),b.Vb(1,"ms-tableHeadCell",6),b.Ac(2,"#"),b.Ub(),b.Vb(3,"ms-tableHeadCell",7),b.Ac(4,"Utilisateur"),b.Ub(),b.Vb(5,"ms-tableHeadCell",8),b.Ac(6,"Date d'ajout"),b.Ub(),b.Vb(7,"msTableHeadCell",9),b.Qb(8,"i",10),b.Ub(),b.Ub()),2&e&&(b.Bb(5),b.lc("sortBy",b.nc(1,re)))}function ie(e,t){if(1&e){var r=b.Wb();b.Tb(0),b.Vb(1,"button",15),b.dc("click",(function(){b.rc(r);var e=b.fc().$implicit;return b.fc().deletePrincipal(e)})),b.Ub(),b.Sb()}2&e&&(b.Bb(1),b.lc("rounded",!0))}function ae(e,t){if(1&e&&(b.Vb(0,"msTableRow"),b.Vb(1,"msTableCell"),b.Ac(2),b.Ub(),b.Vb(3,"msTableCell"),b.Qb(4,"user-persona",11),b.Ub(),b.Vb(5,"msTableCell",12),b.Ac(6),b.gc(7,"date"),b.Ub(),b.Vb(8,"msTableCell",13),b.yc(9,ie,2,1,"ng-container",14),b.Ub(),b.Ub()),2&e){var r=t.$implicit,n=t.index,i=b.fc();b.Bb(2),b.Bc(n+1),b.Bb(2),b.lc("user",r.user),b.Bb(2),b.Bc(b.hc(7,4,r.registrationDate)),b.Bb(3),b.lc("ngIf",i.department.isPrincipalUser)}}var se,ce=((se=function(){function e(t,r){_classCallCheck(this,e),this._principalLoader=t,this._service=r,this.correctors=[]}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.AssertHelpers.isNotNull(this.department),e.next=3,this._principalLoader.loadByDepartment(this.department);case 3:(t=this.table).unshift.apply(t,_toConsumableArray(this.department.principals));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"addPrincipals",value:function(){var e=this;this._service.addPrincipals(this.department).then((function(t){var r;return(r=e.table).unshift.apply(r,_toConsumableArray(t))}))}},{key:"deletePrincipal",value:function(e){var t=this;this._service.deletePrincipal(e).then((function(r){r&&t.table.remove(e)}))}}]),e}()).\u0275fac=function(e){return new(e||se)(b.Pb(J.N),b.Pb(ee))},se.\u0275cmp=b.Jb({type:se,selectors:[["app-principal-list"]],viewQuery:function(e,t){var r;1&e&&b.Fc(M.d,!0),2&e&&b.pc(r=b.ec())&&(t.table=r.first)},inputs:{department:"department"},decls:7,vars:2,consts:[[1,"ms-pageTitle"],["msButton","","icon","Add","theme","primary",3,"click",4,"ngIf"],[4,"ms-tableHeadDef"],[4,"ms-tableRowDef","ms-tableRowDefOf"],["msButton","","icon","Add","theme","primary",3,"click"],[1,"ms-hiddenSm"],["name","#"],["name","user"],["name","registrationDate",3,"sortBy"],["name","actions",1,"text-right"],[1,"ms-Icon","ms-Icon--SetAction"],[3,"user"],[1,"ms-fontSize-12"],[1,"text-right"],[4,"ngIf"],["msIconButton","","icon","Delete","theme","error",3,"rounded","click"]],template:function(e,t){1&e&&(b.Vb(0,"div",0),b.Vb(1,"h4"),b.Ac(2,"D\xe9l\xe9gu\xe9s"),b.Ub(),b.yc(3,te,4,0,"button",1),b.Ub(),b.Vb(4,"ms-table"),b.yc(5,ne,9,2,"msTableHead",2),b.yc(6,ae,10,6,"msTableRow",3),b.Ub()),2&e&&(b.Bb(3),b.lc("ngIf",t.department.isPrincipalUser),b.Bb(3),b.lc("ms-tableRowDefOf",t.correctors))},directives:[a.t,M.d,M.h,M.k,y.b,M.f,M.g,M.j,M.e,W.a,y.d],pipes:[a.f],encapsulation:2}),se),oe=r("ZCIt"),le=r("xrbD");function be(e,t){if(1&e){var r=b.Wb();b.Vb(0,"button",4),b.dc("click",(function(){return b.rc(r),b.fc().addSupervisors()})),b.Ac(1," Ajouter "),b.Vb(2,"span",5),b.Ac(3,"des superviseurs"),b.Ub(),b.Ub()}}var de=function(){return["registrationDate","date"]};function ue(e,t){1&e&&(b.Vb(0,"msTableHead"),b.Vb(1,"ms-tableHeadCell",6),b.Ac(2,"#"),b.Ub(),b.Vb(3,"ms-tableHeadCell",7),b.Ac(4,"Utilisateur"),b.Ub(),b.Vb(5,"ms-tableHeadCell",8),b.Ac(6,"Date d'ajout"),b.Ub(),b.Vb(7,"msTableHeadCell",9),b.Qb(8,"i",10),b.Ub(),b.Ub()),2&e&&(b.Bb(5),b.lc("sortBy",b.nc(1,de)))}function pe(e,t){if(1&e){var r=b.Wb();b.Tb(0),b.Vb(1,"button",15),b.dc("click",(function(){b.rc(r);var e=b.fc().$implicit;return b.fc().deleteSupervisor(e)})),b.Ub(),b.Sb()}2&e&&(b.Bb(1),b.lc("rounded",!0))}function me(e,t){if(1&e&&(b.Vb(0,"msTableRow"),b.Vb(1,"msTableCell"),b.Ac(2),b.Ub(),b.Vb(3,"msTableCell"),b.Qb(4,"user-persona",11),b.Ub(),b.Vb(5,"msTableCell",12),b.Ac(6),b.gc(7,"date"),b.Ub(),b.Vb(8,"msTableCell",13),b.yc(9,pe,2,1,"ng-container",14),b.Ub(),b.Ub()),2&e){var r=t.$implicit,n=t.index,i=b.fc();b.Bb(2),b.Bc(n+1),b.Bb(2),b.lc("user",r.user),b.Bb(2),b.Bc(b.hc(7,4,r.registrationDate)),b.Bb(3),b.lc("ngIf",i.department.isPrincipalUser)}}var fe,ve=((fe=function(){function e(t,r){_classCallCheck(this,e),this._supervisorLoader=t,this._service=r,this.supervisors=[]}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.AssertHelpers.isNotNull(this.department),e.next=3,this._supervisorLoader.loadByDepartment(this.department);case 3:(t=this.table).unshift.apply(t,_toConsumableArray(this.department.supervisors.toArray()));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"addSupervisors",value:function(){var e=this;this._service.addSupervisors(this.department).then((function(t){var r;return(r=e.table).unshift.apply(r,_toConsumableArray(t))}))}},{key:"deleteSupervisor",value:function(e){var t=this;this._service.deleteSupervisor(e).then((function(r){r&&t.table.remove(e)}))}}]),e}()).\u0275fac=function(e){return new(e||fe)(b.Pb(J.lb),b.Pb(le.a))},fe.\u0275cmp=b.Jb({type:fe,selectors:[["app-supervisor-list"]],viewQuery:function(e,t){var r;1&e&&b.Fc(M.d,!0),2&e&&b.pc(r=b.ec())&&(t.table=r.first)},inputs:{department:"department"},decls:7,vars:2,consts:[[1,"ms-pageTitle"],["msButton","","icon","Add","theme","primary",3,"click",4,"ngIf"],[4,"ms-tableHeadDef"],[4,"ms-tableRowDef","ms-tableRowDefOf"],["msButton","","icon","Add","theme","primary",3,"click"],[1,"ms-hiddenSm"],["name","#"],["name","user"],["name","registrationDate",3,"sortBy"],["name","actions",1,"text-right"],[1,"ms-Icon","ms-Icon--SetAction"],[3,"user"],[1,"ms-fontSize-12"],[1,"text-right"],[4,"ngIf"],["msIconButton","","icon","Delete","theme","error",3,"rounded","click"]],template:function(e,t){1&e&&(b.Vb(0,"div",0),b.Vb(1,"h4"),b.Ac(2,"Superviseurs"),b.Ub(),b.yc(3,be,4,0,"button",1),b.Ub(),b.Vb(4,"ms-table"),b.yc(5,ue,9,2,"msTableHead",2),b.yc(6,me,10,6,"msTableRow",3),b.Ub()),2&e&&(b.Bb(3),b.lc("ngIf",t.department.isPrincipalUser),b.Bb(3),b.lc("ms-tableRowDefOf",t.supervisors))},directives:[a.t,M.d,M.h,M.k,y.b,M.f,M.g,M.j,M.e,W.a,y.d],pipes:[a.f],encapsulation:2}),fe),he=r("KJAM");function ye(e,t){if(1&e&&(b.Vb(0,"div"),b.Qb(1,"app-department-home-page",11),b.Ub()),2&e){var r=b.fc();b.Bb(1),b.lc("department",r.department)}}function ge(e,t){if(1&e&&(b.Vb(0,"div"),b.Qb(1,"app-room-list",11),b.Ub()),2&e){var r=b.fc();b.Bb(1),b.lc("department",r.department)}}function Ue(e,t){if(1&e&&(b.Vb(0,"div"),b.Qb(1,"app-student-list",11),b.Ub()),2&e){var r=b.fc();b.Bb(1),b.lc("department",r.department)}}function Ve(e,t){if(1&e&&(b.Vb(0,"div"),b.Qb(1,"app-teacher-list",11),b.Ub()),2&e){var r=b.fc();b.Bb(1),b.lc("department",r.department)}}function Ae(e,t){if(1&e&&(b.Vb(0,"div"),b.Qb(1,"app-application-list",11),b.Ub()),2&e){var r=b.fc();b.Bb(1),b.lc("department",r.department)}}function Be(e,t){if(1&e&&(b.Vb(0,"div"),b.Qb(1,"app-principal-list",11),b.Ub()),2&e){var r=b.fc();b.Bb(1),b.lc("department",r.department)}}function Ce(e,t){if(1&e&&(b.Vb(0,"div"),b.Qb(1,"app-corrector-list",11),b.Ub()),2&e){var r=b.fc();b.Bb(1),b.lc("department",r.department)}}function ke(e,t){if(1&e&&(b.Vb(0,"div"),b.Qb(1,"app-supervisor-list",11),b.Ub()),2&e){var r=b.fc();b.Bb(1),b.lc("department",r.department)}}function _e(e,t){if(1&e&&(b.Vb(0,"div"),b.Qb(1,"app-secretary-list",11),b.Ub()),2&e){var r=b.fc();b.Bb(1),b.lc("department",r.department)}}var we,Ie,xe,Pe,Se=((we=function e(t,r){_classCallCheck(this,e),this._router=t,this.department=r.get("department")}).\u0275fac=function(e){return new(e||we)(b.Pb(n.b),b.Pb(d.a))},we.\u0275cmp=b.Jb({type:we,selectors:[["app-department-page-layout"]],decls:32,vars:1,consts:[[3,"department","onDepartmentDelete"],["id","home"],["id","room"],["id","students"],["id","teachers"],["id","applications"],["id","principals"],["id","correctors"],["id","supervisors"],["id","secretaries"],[4,"msPivotContentDef"],[3,"department"]],template:function(e,t){1&e&&(b.Vb(0,"app-layout"),b.Vb(1,"app-department-banner",0),b.dc("onDepartmentDelete",(function(){return t._router.navigateByUrl(t.department.school.url)})),b.Ub(),b.Vb(2,"msPivot"),b.Vb(3,"msPivotHeader"),b.Vb(4,"msPivotLabel",1),b.Ac(5,"Acceuil"),b.Ub(),b.Vb(6,"msPivotLabel",2),b.Ac(7,"Salles"),b.Ub(),b.Vb(8,"msPivotLabel",3),b.Ac(9,"\xc9tudiants"),b.Ub(),b.Vb(10,"msPivotLabel",4),b.Ac(11,"Enseignants"),b.Ub(),b.Vb(12,"msPivotLabel",5),b.Ac(13,"Demandes"),b.Ub(),b.Vb(14,"msPivotLabel",6),b.Ac(15,"D\xe9l\xe9gu\xe9s"),b.Ub(),b.Vb(16,"msPivotLabel",7),b.Ac(17,"Correcteurs"),b.Ub(),b.Vb(18,"msPivotLabel",8),b.Ac(19,"Superviseurs"),b.Ub(),b.Vb(20,"msPivotLabel",9),b.Ac(21,"S\xe9cretaires"),b.Ub(),b.Ub(),b.Vb(22,"msPivotBody"),b.yc(23,ye,2,1,"div",10),b.yc(24,ge,2,1,"div",10),b.yc(25,Ue,2,1,"div",10),b.yc(26,Ve,2,1,"div",10),b.yc(27,Ae,2,1,"div",10),b.yc(28,Be,2,1,"div",10),b.yc(29,Ce,2,1,"div",10),b.yc(30,ke,2,1,"div",10),b.yc(31,_e,2,1,"div",10),b.Ub(),b.Ub(),b.Ub()),2&e&&(b.Bb(1),b.lc("department",t.department))},directives:[u.a,p.a,m.a,m.d,m.e,m.b,m.c,H,Q.a,F.a,X,Y.a,ce,oe.a,ve,he.a],encapsulation:2}),we),Te=r("M3Py"),Le=r("OsZj"),De=r("3Pt+"),Oe=r("LBRJ"),Re=((Ie=function(){function e(t,r,n,i,a){_classCallCheck(this,e),this._httpClient=t,this._loader=r,this._userHttpClient=n,this._dialogRef=i,this._alertEmitter=a,this.users=[]}return _createClass(e,[{key:"addAll",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.users.map((function(e){return e.id})),e.next=3,this._httpClient.addPrincipals(this.department,t);case 3:r=e.sent,n=_createForOfIteratorHelper(r),e.prev=5,n.s();case 7:if((i=n.n()).done){e.next=13;break}return a=i.value,e.next=11,this._loader.load(a);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:this.department.principals.insertRange(r,0),this._alertEmitter.info("".concat(r.size()," d\xe9l\xe9gu\xe9(s) ont \xe9t\xe9 ajout\xe9(s).")),this._dialogRef&&this._dialogRef.close(r);case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})))}}]),e}()).\u0275fac=function(e){return new(e||Ie)(b.Pb(J.M),b.Pb(J.N),b.Pb(J.Eb),b.Pb(s.k),b.Pb(Le.a))},Ie.\u0275cmp=b.Jb({type:Ie,selectors:[["ng-component"]],inputs:{department:"department"},decls:13,vars:2,consts:[[1,"flex-cover-center"],[1,"ms-form"],[1,"ms-form-header"],[1,"ms-textField"],["for","user",1,"msf-label"],["id","user","name","user",3,"ngModel","ngModelChange"],[1,"mt-4","text-right"],["msButton","","MsfModalClose","",1,"mr-3"],["msButton","","icon","Add","theme","primary",3,"disabled","click"]],template:function(e,t){1&e&&(b.Vb(0,"div",0),b.Vb(1,"form",1),b.Vb(2,"div",2),b.Ac(3,"Ajouter des d\xe9l\xe9gu\xe9s"),b.Ub(),b.Vb(4,"div",3),b.Vb(5,"label",4),b.Ac(6,"Choisir les utilisateurs"),b.Ub(),b.Vb(7,"user-picker",5),b.dc("ngModelChange",(function(e){return t.users=e})),b.Ub(),b.Ub(),b.Vb(8,"div",6),b.Vb(9,"button",7),b.Ac(10,"Annuler"),b.Ub(),b.Vb(11,"button",8),b.dc("click",(function(){return t.addAll()})),b.Ac(12,"Ajouter "),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&e&&(b.Bb(7),b.lc("ngModel",t.users),b.Bb(4),b.lc("disabled",t.users.length<1))},directives:[De.p,De.j,De.k,Oe.a,De.i,De.l,y.b,s.s],encapsulation:2}),Ie),je=r("QUrN"),He=((Pe=function(){function e(t,r,n,i,a){_classCallCheck(this,e),this._dialog=t,this._confirmation=r,this._loader=n,this._httpClient=i,this._alertEmitter=a}return _createClass(e,[{key:"deletePrincipal",value:function(e){var t=this,r=this._confirmation.open("Voulez-vous Supprimer ce d\xe9l\xe9gu\xe9?");return new Promise((function(n){r.accept.subscribe((function(){return Object(f.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._httpClient.delete(e.id);case 2:e.department.principals.remove(e),this._alertEmitter.info("Le d\xe9l\xe9gu\xe9 a \xe9t\xe9 supprim\xe9!"),n(!0);case 5:case"end":return t.stop()}}),t,this)})))})),r.reject.subscribe((function(){return n(!1)}))}))}},{key:"addPrincipals",value:function(e){var t=this._dialog.open(Re,{autoFocus:!1,disableClose:!0});return t.componentInstance.department=e,t.afterClosed().toPromise()}}]),e}()).\u0275fac=function(e){return new(e||Pe)(b.Zb(s.i),b.Zb(o.c),b.Zb(J.N),b.Zb(J.M),b.Zb(o.a))},Pe.\u0275prov=b.Lb({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe),Qe=((xe=function e(){_classCallCheck(this,e)}).\u0275mod=b.Nb({type:xe}),xe.\u0275inj=b.Mb({factory:function(e){return new(e||xe)},providers:[He,{provide:ee,useExisting:He}],imports:[[a.c,je.c,o.b,s.j,o.j,M.i,De.g,De.n,o.d,s.g,y.c]]}),xe),Fe=r("gIyM");r.d(t,"DepartmentPageModule",(function(){return Me}));var Ne,Ee=[{path:":departmentId",component:Se,resolve:[l.x,i.b]}],Me=((Ne=function e(){_classCallCheck(this,e)}).\u0275mod=b.Nb({type:Ne}),Ne.\u0275inj=b.Mb({factory:function(e){return new(e||Ne)},imports:[[a.c,y.c,m.f,i.a,l.q,l.y,l.a,l.D,l.c,Te.a,Qe,Fe.a,l.B,l.t,n.e.forChild(Ee),c.a,o.d,s.g]]}),Ne)}}]);