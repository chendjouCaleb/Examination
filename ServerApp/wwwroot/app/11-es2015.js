(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Ekn0:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var s=i("fXoL"),n=i("ofXK");let a=(()=>{class t{constructor(t){this.location=t,this.step=1}back(){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(n.n))},t.\u0275dir=s.Kb({type:t,selectors:[["","historyBack",""]],hostBindings:function(t,e){1&t&&s.dc("click",(function(){return e.back()}))},inputs:{step:["historyBack","step"]}}),t})()},URB8:function(t,e,i){"use strict";i.r(e);var s=i("ofXK"),n=i("lbq7"),a=i("fXoL"),o=i("tyNb"),r=i("jhN1"),c=i("SWPu"),l=i("mV8I"),b=i("+m0u"),u=i("Ekn0"),m=i("coJQ"),p=i("FZuD"),d=i("Xf72"),h=i("1Qc6"),f=i("mrSG"),v=i("6u+M"),y=i("4e6a"),g=i("Lfng"),x=i("axUC"),B=i("OWjA"),L=i("A/bf");const U=function(t){return[t,"number"]};function C(t,e){if(1&t&&(a.Vb(0,"ms-tableHeadCell",12),a.Ac(1),a.Ub()),2&t){const t=e.$implicit;a.lc("name",t.name)("sortBy",a.oc(3,U,"score_"+t.name)),a.Bb(1),a.Bc(t.name)}}const V=function(){return["score","number"]};function S(t,e){1&t&&(a.Vb(0,"ms-tableHeadCell",13),a.Ac(1,"Total"),a.Ub()),2&t&&a.lc("sortBy",a.nc(1,V))}function G(t,e){1&t&&(a.Vb(0,"ms-tableHeadCell",13),a.Ac(1,"Note"),a.Ub()),2&t&&a.lc("sortBy",a.nc(1,V))}const P=function(){return["fullName","string"]},I=function(){return["groupNumber","number"]};function _(t,e){if(1&t&&(a.Vb(0,"ms-tableHead"),a.Vb(1,"ms-tableHeadCell",4),a.Ac(2,"#"),a.Ub(),a.Vb(3,"ms-tableHeadCell",5),a.Ac(4,"Matricule"),a.Ub(),a.Vb(5,"ms-tableHeadCell",6),a.Ac(6,"Nom & pr\xe9nom"),a.Ub(),a.Vb(7,"ms-tableHeadCell",7),a.Ac(8,"Groupe"),a.Ub(),a.yc(9,C,2,5,"ms-tableHeadCell",8),a.yc(10,S,2,2,"ms-tableHeadCell",9),a.yc(11,G,2,2,"ms-tableHeadCell",9),a.Vb(12,"ms-tableHeadCell"),a.Ac(13,"Correcteur"),a.Ub(),a.Vb(14,"ms-tableHeadCell",10),a.Qb(15,"i",11),a.Ub(),a.Ub()),2&t){const t=a.fc();a.Bb(5),a.lc("sortBy",a.nc(5,P)),a.Bb(2),a.lc("sortBy",a.nc(6,I)),a.Bb(2),a.lc("ngForOf",t.testScores),a.Bb(1),a.lc("ngIf",t._test.multipleScore),a.Bb(1),a.lc("ngIf",!t._test.multipleScore)}}function $(t,e){if(1&t&&(a.Tb(0),a.Ac(1),a.Sb()),2&t){const t=a.fc().$implicit;a.Bb(1),a.Cc(" ",(null==t?null:t.testGroup.index)+1," ")}}function A(t,e){1&t&&a.Qb(0,"app-icon",24)}function D(t,e){1&t&&a.Qb(0,"app-icon",24)}function k(t,e){if(1&t&&(a.Tb(0),a.Ac(1),a.Sb()),2&t){const t=a.fc().index,e=a.fc().$implicit;a.Bb(1),a.Cc(" ",e.scorePapers[t].value,"")}}function w(t,e){if(1&t&&(a.Vb(0,"ms-tableCell",25),a.yc(1,D,1,0,"app-icon",18),a.yc(2,k,2,1,"ng-container",17),a.Ub()),2&t){const t=a.fc().$implicit;a.Bb(1),a.lc("ngIf",!t.hasScores),a.Bb(1),a.lc("ngIf",t.hasScores)}}function Q(t,e){1&t&&(a.Tb(0),a.Ac(1,"0"),a.Sb())}function O(t,e){if(1&t&&(a.Vb(0,"span",26),a.yc(1,Q,2,0,"ng-container",17),a.Ac(2),a.Ub()),2&t){const t=a.fc().$implicit;a.Gb("ms-bgColor-sharedRed20",t.is1_5)("ms-bgColor-sharedRedOrange10",t.is2_5)("ms-bgColor-sharedOrangeYellow10",t.is3_5)("ms-bgColor-sharedCyan30",t.is4_5)("ms-bgColor-sharedGreen10",t.is5_5),a.Bb(1),a.lc("ngIf",t.score<10),a.Bb(1),a.Bc(t.score)}}function H(t,e){1&t&&a.Qb(0,"app-icon",24)}function T(t,e){if(1&t&&a.Qb(0,"user-persona",27),2&t){const t=a.fc().$implicit;a.lc("user",t.correctorUser)}}function N(t,e){if(1&t){const t=a.Wb();a.Vb(0,"button",28),a.dc("click",(function(){a.rc(t);const e=a.fc().$implicit;return a.fc().service.scores(e)})),a.Ub()}2&t&&a.lc("rounded",!0)}function R(t,e){if(1&t){const t=a.Wb();a.Vb(0,"ms-tableRow",14),a.Vb(1,"ms-tableCell"),a.Ac(2),a.Ub(),a.Vb(3,"ms-tableCell"),a.Ac(4),a.Ub(),a.Vb(5,"ms-tableCell"),a.Vb(6,"a",15),a.Ac(7),a.Ub(),a.Ub(),a.Vb(8,"ms-tableCell",16),a.yc(9,$,2,1,"ng-container",17),a.yc(10,A,1,0,"app-icon",18),a.Ub(),a.yc(11,w,3,2,"ms-tableCell",19),a.Vb(12,"ms-tableCell"),a.yc(13,O,3,12,"span",20),a.yc(14,H,1,0,"app-icon",18),a.Ub(),a.Vb(15,"ms-tableCell"),a.yc(16,T,1,1,"user-persona",21),a.Ub(),a.Vb(17,"ms-tableCell",10),a.yc(18,N,1,1,"button",22),a.Vb(19,"button",23),a.dc("click",(function(){a.rc(t);const i=e.$implicit;return a.fc().service.details(i)})),a.Ac(20,"D\xe9tails"),a.Ub(),a.Ub(),a.Ub()}if(2&t){const t=e.$implicit,i=e.index,s=a.fc();a.lc("value",t),a.Bb(2),a.Bc(i+1),a.Bb(2),a.Bc(null==t.examinationStudent?null:null==t.examinationStudent.student?null:t.examinationStudent.student.registrationId),a.Bb(2),a.lc("routerLink",t.examinationStudent.url),a.Bb(1),a.Bc(null==t.examinationStudent?null:t.examinationStudent.student.fullName),a.Bb(2),a.lc("ngIf",t.testGroup),a.Bb(1),a.lc("ngIf",!t.testGroup),a.Bb(1),a.lc("ngForOf",s.testScores),a.Bb(2),a.lc("ngIf",t.isCorrected&&t.test),a.Bb(1),a.lc("ngIf",!t.isCorrected),a.Bb(2),a.lc("ngIf",t.correctorUser),a.Bb(2),a.lc("ngIf",null==t.testGroup?null:t.testGroup.relation.isCorrector)}}let E=(()=>{class t{constructor(t,e,i,s){this._paperLoader=t,this._changeDetector=e,this._testScoreLoader=i,this.service=s,this.papers=[]}ngOnInit(){return Object(f.a)(this,void 0,void 0,(function*(){this.test&&(yield this._paperLoader.loadByTest(this.test),yield this._testScoreLoader.loadByTest(this.test)),this.testGroup&&(yield this._paperLoader.loadByTestGroup(this.testGroup),yield this._testScoreLoader.loadByTest(this.testGroup.test)),this.testLevelSpeciality&&(yield this._paperLoader.loadByTestLevelSpeciality(this.testLevelSpeciality),yield this._testScoreLoader.loadByTest(this.testLevelSpeciality.test)),this.papers.unshift(...this.getPapers().toArray()),this.papers.forEach(t=>t.assignScore()),this.table.unshift(...this.papers)}))}getPapers(){return this.test?this.test.papers:this.testGroup?this.testGroup.papers:this.testLevelSpeciality?this.testLevelSpeciality.papers:new y.List}get _test(){return this.test?this.test:this.testLevelSpeciality?this.testLevelSpeciality.test:this.testGroup.test}get testScores(){return this._test.testScores}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(x.r),a.Pb(a.h),a.Pb(x.J),a.Pb(v.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-paper-score-list"]],viewQuery:function(t,e){var i;1&t&&a.Fc(g.d,!0),2&t&&a.pc(i=a.ec())&&(e.table=i.first)},inputs:{test:"test",testGroup:"testGroup",examinationStudent:"examinationStudent",testLevelSpeciality:"testLevelSpeciality"},decls:6,vars:1,consts:[[1,"ms-pageTitle"],[1,"ms-fontSize-20"],[4,"ms-tableHeadDef"],[3,"value",4,"ms-tableRowDef","ms-tableRowDefOf"],["name","#"],["name","registrationNumber"],["name","fullName",3,"sortBy"],["name","groupNumber",3,"sortBy"],[3,"name","sortBy",4,"ngFor","ngForOf"],["name","score",3,"sortBy",4,"ngIf"],[2,"text-align","right"],[1,"ms-Icon","ms-Icon--SetAction","px-2"],[3,"name","sortBy"],["name","score",3,"sortBy"],[3,"value"],[1,"ms-link","text-capitalize",3,"routerLink"],[1,"ms-fontWeight-semibold"],[4,"ngIf"],["bgColor","sharedRed10","icon","Cancel",4,"ngIf"],["class","text-left",4,"ngFor","ngForOf"],["class","br-2 ms-fontWeight-semibold text-right ms-fontColor-white","style","padding:3px",3,"ms-bgColor-sharedRed20","ms-bgColor-sharedRedOrange10","ms-bgColor-sharedOrangeYellow10","ms-bgColor-sharedCyan30","ms-bgColor-sharedGreen10",4,"ngIf"],[3,"user",4,"ngIf"],["msIconButton","","theme","infoOutline","class","mr-2","icon","Edit",3,"rounded","click",4,"ngIf"],["msButton","","theme","primary",1,"mr-2",3,"click"],["bgColor","sharedRed10","icon","Cancel"],[1,"text-left"],[1,"br-2","ms-fontWeight-semibold","text-right","ms-fontColor-white",2,"padding","3px"],[3,"user"],["msIconButton","","theme","infoOutline","icon","Edit",1,"mr-2",3,"rounded","click"]],template:function(t,e){1&t&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Ac(2,"Notes"),a.Ub(),a.Ub(),a.Vb(3,"ms-table"),a.yc(4,_,16,7,"ms-tableHead",2),a.yc(5,R,21,12,"ms-tableRow",3),a.Ub()),2&t&&(a.Bb(5),a.lc("ms-tableRowDefOf",e.papers))},directives:[g.d,g.h,g.k,g.f,g.g,s.s,s.t,g.j,g.e,o.d,b.b,B.a,L.a,b.d],encapsulation:2}),t})();function F(t,e){if(1&t&&(a.Vb(0,"div"),a.Qb(1,"app-test-details",9),a.Ub()),2&t){const t=a.fc();a.Bb(1),a.lc("test",t.test)}}function J(t,e){if(1&t&&(a.Vb(0,"div"),a.Qb(1,"app-test-groups",9),a.Ub()),2&t){const t=a.fc();a.Bb(1),a.lc("test",t.test)}}function j(t,e){if(1&t&&(a.Vb(0,"div"),a.Qb(1,"app-paper-list",9),a.Ub()),2&t){const t=a.fc();a.Bb(1),a.lc("test",t.test)}}function W(t,e){if(1&t&&(a.Vb(0,"div"),a.Qb(1,"app-paper-score-list",9),a.Ub()),2&t){const t=a.fc();a.Bb(1),a.lc("test",t.test)}}let z=(()=>{class t{constructor(t,e,i){this._router=t,this._title=e,this._items=i,this.paths=[],this.breadCrumbItems=[],this.test=i.get("test")}ngOnInit(){this.breadCrumbItems=[{name:"\xe9tablissements",url:"/schools"},{name:this.examination.school.name,url:`${this.examination.school.url}`},{name:"Examens",url:`${this.examination.school.url}/examinations`},{name:this.examination.name,url:`${this.examination.url}`},{name:"D\xe9partements",url:`${this.examination.url}/departments`},{name:this.examinationDepartment.department.name,url:`${this.examinationDepartment.url}`},{name:"Niveaux"},{name:`Niveau ${this.examinationLevel.level.index+1}`,url:`${this.examinationLevel.url}`},{name:"\xe9preuves",url:`${this.examinationLevel.url}#tests`},{name:`${this.test.course.name}(${this.test.course.code})`,url:`${this.test.url}`}],this.breadCrumbItems.push(...this.paths),this.title?(this.breadCrumbItems.push({name:this.title}),this._title.setTitle(this.title)):this._title.setTitle(`\xc9preuves - ${this.test.course.name}(${this.test.course.code})`)}get examination(){return this.examinationDepartment.examination}get examinationDepartment(){return this.examinationLevel.examinationDepartment}get examinationLevel(){return this.test.examinationLevel}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(o.b),a.Pb(r.e),a.Pb(c.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-test-page-layout"]],inputs:{test:"test",paths:"paths",title:"title"},decls:22,vars:2,consts:[[1,"ms-header"],[1,"d-flex","align-items-center"],["historyBack","","msIconButton","","icon","ChevronLeftSmall","theme","transparent","size","normal",3,"rounded"],[1,"ms-header-title"],["id","home"],["id","groups"],["id","students"],["id","scores"],[4,"msPivotContentDef"],[3,"test"]],template:function(t,e){1&t&&(a.Vb(0,"app-layout"),a.Vb(1,"div",0),a.Vb(2,"div",1),a.Qb(3,"button",2),a.Vb(4,"div",3),a.Ac(5),a.Ub(),a.Ub(),a.Qb(6,"div"),a.Ub(),a.Vb(7,"msPivot"),a.Vb(8,"msPivotHeader"),a.Vb(9,"msPivotLabel",4),a.Ac(10,"Acceuil"),a.Ub(),a.Vb(11,"msPivotLabel",5),a.Ac(12,"Groupes"),a.Ub(),a.Vb(13,"msPivotLabel",6),a.Ac(14,"\xc9tudiants"),a.Ub(),a.Vb(15,"msPivotLabel",7),a.Ac(16,"Notes"),a.Ub(),a.Ub(),a.Vb(17,"msPivotBody"),a.yc(18,F,2,1,"div",8),a.yc(19,J,2,1,"div",8),a.yc(20,j,2,1,"div",8),a.yc(21,W,2,1,"div",8),a.Ub(),a.Ub(),a.Ub()),2&t&&(a.Bb(3),a.lc("rounded",!0),a.Bb(2),a.Cc("\xe9preuves / ",e.test.name,""))},directives:[l.a,b.d,u.a,m.a,m.d,m.e,m.b,m.c,p.a,d.a,h.a,E],encapsulation:2}),t})();var M=i("EEi/"),X=i("G43j");function K(t,e){if(1&t&&(a.Vb(0,"div"),a.Qb(1,"app-test-level-speciality-details",5),a.Ub()),2&t){const t=a.fc();a.Bb(1),a.lc("testLevelSpeciality",t.testLevelSpeciality)}}function Y(t,e){if(1&t&&(a.Vb(0,"div"),a.Qb(1,"app-paper-list",5),a.Ub()),2&t){const t=a.fc();a.Bb(1),a.lc("testLevelSpeciality",t.testLevelSpeciality)}}function Z(t,e){if(1&t&&(a.Vb(0,"div"),a.Qb(1,"app-paper-score-list",5),a.Ub()),2&t){const t=a.fc();a.Bb(1),a.lc("testLevelSpeciality",t.testLevelSpeciality)}}let q=(()=>{class t{constructor(t,e,i){this._router=t,this._title=e,this._items=i,this.paths=[],this.breadCrumbItems=[],this.testLevelSpeciality=i.get("testLevelSpeciality")}ngOnInit(){this.breadCrumbItems=[{name:"Examens",url:`${this.examination.school.url}/examinations`},{name:this.examination.name,url:`${this.examination.url}`},{name:"D\xe9partements",url:`${this.examination.url}/departments`},{name:this.examinationDepartment.department.name,url:`${this.examinationDepartment.url}`},{name:"Niveaux"},{name:`Niveau ${this.examinationLevel.level.index+1}`,url:`${this.examinationLevel.url}`},{name:"\xe9preuves",url:`${this.examinationLevel.url}#tests`},{name:`${this.test.course.name}(${this.test.course.code})`,url:`${this.test.url}`},{name:"Sp\xe9cialit\xe9s"},{name:`${this.examinationSpeciality.speciality.name}`,url:`${this.testLevelSpeciality.url}`}],this.breadCrumbItems.push(...this.paths),this.title?(this.breadCrumbItems.push({name:this.title}),this._title.setTitle(this.title)):this._title.setTitle(`\xc9preuves - ${this.test.course.name}(${this.test.course.code})`)}get examination(){return this.examinationDepartment.examination}get examinationDepartment(){return this.examinationLevel.examinationDepartment}get examinationLevel(){return this.test.examinationLevel}get examinationSpeciality(){var t;return null===(t=this.testLevelSpeciality.examinationLevelSpeciality)||void 0===t?void 0:t.examinationSpeciality}get test(){return this.testLevelSpeciality.test}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(o.b),a.Pb(r.e),a.Pb(c.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-test-level-speciality-page-layout"]],inputs:{testLevelSpeciality:"testLevelSpeciality",paths:"paths",title:"title"},decls:13,vars:1,consts:[[3,"breadcrumbItems"],["id","home"],["id","students"],["id","scores"],[4,"msPivotContentDef"],[3,"testLevelSpeciality"]],template:function(t,e){1&t&&(a.Vb(0,"app-layout",0),a.Vb(1,"msPivot"),a.Vb(2,"msPivotHeader"),a.Vb(3,"msPivotLabel",1),a.Ac(4,"Acceuil"),a.Ub(),a.Vb(5,"msPivotLabel",2),a.Ac(6,"\xc9tudiants"),a.Ub(),a.Vb(7,"msPivotLabel",3),a.Ac(8,"Notes"),a.Ub(),a.Ub(),a.Vb(9,"msPivotBody"),a.yc(10,K,2,1,"div",4),a.yc(11,Y,2,1,"div",4),a.yc(12,Z,2,1,"div",4),a.Ub(),a.Ub(),a.Ub()),2&t&&a.lc("breadcrumbItems",e.breadCrumbItems)},directives:[l.a,m.a,m.d,m.e,m.b,m.c,X.a,h.a,E],encapsulation:2}),t})();var tt=i("C0vA"),et=i("Zy/J");function it(t,e){if(1&t&&(a.Vb(0,"div"),a.Qb(1,"app-test-group-details",9),a.Ub()),2&t){const t=a.fc(2);a.Bb(1),a.lc("testGroup",t.testGroup)}}function st(t,e){if(1&t&&(a.Vb(0,"div"),a.Qb(1,"app-paper-list",9),a.Ub()),2&t){const t=a.fc(2);a.Bb(1),a.lc("testGroup",t.testGroup)}}function nt(t,e){if(1&t&&(a.Vb(0,"div"),a.Qb(1,"app-paper-score-list",9),a.Ub()),2&t){const t=a.fc(2);a.Bb(1),a.lc("testGroup",t.testGroup)}}function at(t,e){1&t&&(a.Vb(0,"msPivot"),a.Vb(1,"msPivotHeader"),a.Vb(2,"msPivotLabel",5),a.Ac(3,"Acceuil"),a.Ub(),a.Vb(4,"msPivotLabel",6),a.Ac(5,"\xc9tudiants"),a.Ub(),a.Vb(6,"msPivotLabel",7),a.Ac(7,"Notes"),a.Ub(),a.Ub(),a.Vb(8,"msPivotBody"),a.yc(9,it,2,1,"div",8),a.yc(10,st,2,1,"div",8),a.yc(11,nt,2,1,"div",8),a.Ub(),a.Ub())}let ot=(()=>{class t{constructor(t,e,i,s,n,a){this._title=t,this._items=e,this._authorizer=i,this._testGroupCorrectorLoader=s,this._testGroupSupervisorLoader=n,this._testGroupSecretaryLoader=a,this.testGroup=e.get("testGroup")}ngOnInit(){return Object(f.a)(this,void 0,void 0,(function*(){this._title.setTitle(`\xc9preuves - ${this.test.course.name}(${this.test.course.code})`),yield this._testGroupCorrectorLoader.loadByTestGroup(this.testGroup),yield this._testGroupSupervisorLoader.loadByTestGroup(this.testGroup),yield this._testGroupSecretaryLoader.loadByTestGroup(this.testGroup),this._isOk=!0}))}get examination(){return this.examinationDepartment.examination}get examinationDepartment(){return this.examinationLevel.examinationDepartment}get examinationLevel(){return this.test.examinationLevel}get test(){return this.testGroup.test}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(r.e),a.Pb(c.a),a.Pb(tt.a),a.Pb(x.D),a.Pb(x.G),a.Pb(x.F))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-test-group-page-layout"]],inputs:{testGroup:"testGroup",title:"title"},decls:8,vars:3,consts:[[1,"ms-header"],[1,"d-flex","align-items-center"],["historyBack","","msIconButton","","icon","ChevronLeftSmall","theme","transparent","size","normal",3,"rounded"],[1,"ms-header-title"],[4,"ngIf"],["id","home"],["id","students"],["id","scores"],[4,"msPivotContentDef"],[3,"testGroup"]],template:function(t,e){1&t&&(a.Vb(0,"app-layout"),a.Vb(1,"div",0),a.Vb(2,"div",1),a.Qb(3,"button",2),a.Vb(4,"div",3),a.Ac(5),a.Ub(),a.Ub(),a.Qb(6,"div"),a.Ub(),a.yc(7,at,12,0,"msPivot",4),a.Ub()),2&t&&(a.Bb(3),a.lc("rounded",!0),a.Bb(2),a.Cc("Groupe ",e.testGroup.index+1,""),a.Bb(2),a.lc("ngIf",e._isOk))},directives:[l.a,b.d,u.a,s.t,m.a,m.d,m.e,m.b,m.c,et.a,h.a,E],encapsulation:2}),t})();var rt=i("lnHm"),ct=i("6edJ"),lt=i("MHz2");i.d(e,"routes",(function(){return bt})),i.d(e,"TestPageModule",(function(){return ut}));const bt=[{path:"",component:z},{path:"specialities/:testLevelSpecialityId",component:q,resolve:[n.E]},{path:"groups/:testGroupId",component:ot,resolve:[rt.c]}];let ut=(()=>{class t{}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(e){return new(e||t)},imports:[[s.c,o.e.forChild(bt),M.a,m.f,n.F,rt.b,ct.b,b.c,lt.d]]}),t})()}}]);