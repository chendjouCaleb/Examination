(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{O4xk:function(t,e,i){"use strict";i.r(e);var n=i("ofXK"),a=i("tyNb"),s=i("lbq7"),o=i("fXoL"),c=i("jhN1"),l=i("SWPu"),m=i("mV8I"),b=i("coJQ"),r=i("mrSG"),d=i("axUC"),u=i("pY1q"),x=i("+m0u"),h=i("XqJ4"),p=i("LcCN"),f=i("gfj+");function g(t,e){if(1&t){const t=o.Wb();o.Vb(0,"MsfMenuItem",16),o.dc("click",(function(){o.rc(t);const e=o.fc();return e.service.start(e.examination)})),o.Ac(1," D\xe9buter "),o.Ub()}}function V(t,e){if(1&t){const t=o.Wb();o.Vb(0,"MsfMenuItem",17),o.dc("click",(function(){o.rc(t);const e=o.fc();return e.service.end(e.examination)})),o.Ac(1," Fermer "),o.Ub()}}function U(t,e){if(1&t){const t=o.Wb();o.Vb(0,"MsfMenuItem",18),o.dc("click",(function(){o.rc(t);const e=o.fc();return e.service.relaunch(e.examination)})),o.Ac(1,"Relancer "),o.Ub()}}function v(t,e){1&t&&(o.Vb(0,"span",19),o.Ac(1,"En cours"),o.Ub())}let y=(()=>{class t{constructor(t,e,i,n){this._examinationDepartmentLoader=t,this._examinationSpecialityLoader=e,this._examinationLevelLoader=i,this.service=n}ngOnInit(){return Object(r.a)(this,void 0,void 0,(function*(){console.log(this.examination.statistics)}))}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(d.i),o.Pb(d.m),o.Pb(d.j),o.Pb(s.i))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-examination-school-home"]],inputs:{examination:"examination"},decls:88,vars:35,consts:[[1,"ms-pageTitle"],["msFontSize","18"],["msIconButton","","icon","Settings","theme","transparent",3,"MsfMenuTrigger"],["examinationMenu",""],["icon","Reload"],["theme","primary","icon","Clock",3,"click",4,"ngIf"],["theme","warning","icon","Lock",3,"click",4,"ngIf"],["theme","primary","icon","Rotate90Clockwise",3,"click",4,"ngIf"],["icon","Delete","theme","error",3,"click"],["class","ms-badge","msBgColor","sharedGreenCyan10",4,"ngIf"],[1,"d-flex","justify-content-between","flex-wrap"],[1,"ms-description-list","mt-5"],["msColor","sharedYellowGreen10"],["msColor","sharedGreenCyan10"],["msColor","sharedCyanBlue10"],["msColor","sharedRed10"],["theme","primary","icon","Clock",3,"click"],["theme","warning","icon","Lock",3,"click"],["theme","primary","icon","Rotate90Clockwise",3,"click"],["msBgColor","sharedGreenCyan10",1,"ms-badge"]],template:function(t,e){if(1&t&&(o.Vb(0,"div",0),o.Vb(1,"div",1),o.Ac(2),o.Ub(),o.Vb(3,"div"),o.Qb(4,"button",2),o.Vb(5,"MsfMenu",null,3),o.Vb(7,"MsfMenuItem",4),o.Ac(8,"Actualiser"),o.Ub(),o.yc(9,g,2,0,"MsfMenuItem",5),o.yc(10,V,2,0,"MsfMenuItem",6),o.yc(11,U,2,0,"MsfMenuItem",7),o.Vb(12,"MsfMenuItem",8),o.dc("click",(function(){return e.service.delete(e.examination)})),o.Ac(13,"Supprimer"),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Vb(14,"div"),o.yc(15,v,2,0,"span",9),o.Ub(),o.Vb(16,"div",10),o.Vb(17,"div",11),o.Vb(18,"dl"),o.Vb(19,"dt"),o.Ac(20,"Nom"),o.Ub(),o.Vb(21,"dd"),o.Ac(22),o.Ub(),o.Ub(),o.Vb(23,"dl"),o.Vb(24,"dt"),o.Ac(25,"Ajout\xe9 le"),o.Ub(),o.Vb(26,"dd"),o.Ac(27),o.gc(28,"date"),o.Ub(),o.Ub(),o.Vb(29,"dl"),o.Vb(30,"dt"),o.Ac(31,"D\xe9but pr\xe9vue pour le"),o.Ub(),o.Vb(32,"dd"),o.Ac(33),o.gc(34,"date"),o.Ub(),o.Ub(),o.Vb(35,"dl"),o.Vb(36,"dt"),o.Ac(37,"Fin pr\xe9vue pour le"),o.Ub(),o.Vb(38,"dd"),o.Ac(39),o.gc(40,"date"),o.Ub(),o.Ub(),o.Ub(),o.Vb(41,"div",11),o.Vb(42,"dl"),o.Vb(43,"dt"),o.Ac(44,"\xc9preuves"),o.Ub(),o.Vb(45,"dd"),o.Ac(46),o.Ub(),o.Ub(),o.Vb(47,"dl"),o.Vb(48,"dt"),o.Ac(49,"Corrig\xe9es"),o.Ub(),o.Vb(50,"dd",12),o.Ac(51),o.Ub(),o.Ub(),o.Vb(52,"dl"),o.Vb(53,"dt"),o.Ac(54,"Publi\xe9es"),o.Ub(),o.Vb(55,"dd",13),o.Ac(56),o.Ub(),o.Ub(),o.Vb(57,"dl"),o.Vb(58,"dt"),o.Ac(59,"Ferm\xe9es"),o.Ub(),o.Vb(60,"dd",14),o.Ac(61),o.Ub(),o.Ub(),o.Ub(),o.Vb(62,"div",11),o.Vb(63,"dl"),o.Vb(64,"dt"),o.Ac(65,"\xc9tudiants"),o.Ub(),o.Vb(66,"dd"),o.Ac(67),o.Ub(),o.Ub(),o.Vb(68,"dl"),o.Vb(69,"dt"),o.Ac(70,"Moy. g\xe9n\xe9rale(m\xe9diane)"),o.Ub(),o.Vb(71,"dd"),o.Ac(72),o.gc(73,"number"),o.gc(74,"number"),o.Ub(),o.Ub(),o.Vb(75,"dl",12),o.Vb(76,"dt"),o.Ac(77,"R\xe9ussite"),o.Ub(),o.Vb(78,"dd"),o.Ac(79),o.gc(80,"number"),o.Ub(),o.Ub(),o.Vb(81,"dl",15),o.Vb(82,"dt"),o.Ac(83,"\xc9chec"),o.Ub(),o.Vb(84,"dd"),o.Ac(85),o.gc(86,"number"),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Qb(87,"div")),2&t){const t=o.qc(6);o.Bb(2),o.Bc(e.examination.name),o.Bb(2),o.lc("MsfMenuTrigger",t),o.Bb(5),o.lc("ngIf",e.examination.isPending),o.Bb(1),o.lc("ngIf",e.examination.isProgress),o.Bb(1),o.lc("ngIf",e.examination.isFinished),o.Bb(4),o.lc("ngIf",e.examination.isProgress),o.Bb(7),o.Bc(e.examination.name),o.Bb(5),o.Cc("",o.hc(28,21,e.examination.registrationDate)," "),o.Bb(6),o.Cc("",o.hc(34,23,e.examination.expectedStartDate)," "),o.Bb(6),o.Cc("",o.hc(40,25,e.examination.expectedEndDate)," "),o.Bb(7),o.Bc(e.examination.statistics.testCount),o.Bb(5),o.Bc(e.examination.statistics.correctedTestCount),o.Bb(5),o.Bc(e.examination.statistics.publishedTestCount),o.Bb(5),o.Bc(e.examination.statistics.closedTestCount),o.Bb(6),o.Bc(e.examination.statistics.studentCount),o.Bb(5),o.Dc("",o.hc(73,27,e.examination.statistics.mean)," \xa0 (",o.hc(74,29,e.examination.statistics.median),")"),o.Bb(7),o.Dc("",e.examination.statistics.successCount," (",o.hc(80,31,e.examination.statistics.successCount/e.examination.statistics.studentCount*100),"%)"),o.Bb(6),o.Dc("",e.examination.statistics.failedCount," (",o.hc(86,33,e.examination.statistics.failedCount/e.examination.statistics.studentCount*100),"%)")}},directives:[u.a,x.d,h.h,h.d,h.e,n.t,p.a,f.a],pipes:[n.f,n.g],encapsulation:2}),t})();var B=i("VL2c");function C(t,e){1&t&&o.Qb(0,"app-examination-department-item",3),2&t&&o.lc("item",e.$implicit)}let A=(()=>{class t{constructor(t,e,i,n){this._examinationDepartmentLoader=t,this._examinationSpecialityLoader=e,this._examinationLevelLoader=i,this.service=n,this.isLoaded=!1}ngOnInit(){return Object(r.a)(this,void 0,void 0,(function*(){yield this._examinationDepartmentLoader.loadByExamination(this.examination),yield this._examinationSpecialityLoader.loadByExamination(this.examination),yield this._examinationLevelLoader.loadByExamination(this.examination),this.examination.examinationDepartments.forEach(t=>{t.examinationLevels=this.examination.examinationLevels.findAll(e=>e.examinationDepartmentId===t.id),t.examinationSpecialities=this.examination.examinationSpecialities.findAll(e=>e.examinationDepartmentId===t.id)}),this.isLoaded=!0}))}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(d.i),o.Pb(d.m),o.Pb(d.j),o.Pb(s.i))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-examination-departments"]],inputs:{examination:"examination"},decls:5,vars:1,consts:[[1,"ms-pageTitle"],[1,"d-flex","flex-wrap"],["style","max-width: 98%; margin-right: 10px","class","mt-3",3,"item",4,"ngFor","ngForOf"],[1,"mt-3",2,"max-width","98%","margin-right","10px",3,"item"]],template:function(t,e){1&t&&(o.Vb(0,"div",0),o.Vb(1,"h5"),o.Ac(2,"D\xe9partments"),o.Ub(),o.Ub(),o.Vb(3,"div",1),o.yc(4,C,1,1,"app-examination-department-item",2),o.Ub()),2&t&&(o.Bb(4),o.lc("ngForOf",e.examination.examinationDepartments))},directives:[n.s,B.a],encapsulation:2}),t})();var L=i("SHIK"),S=i("drTt");function I(t,e){if(1&t&&(o.Vb(0,"div"),o.Qb(1,"app-examination-school-home",6),o.Ub()),2&t){const t=o.fc();o.Bb(1),o.lc("examination",t.examination)}}function D(t,e){if(1&t&&(o.Vb(0,"div"),o.Qb(1,"app-examination-departments",6),o.Ub()),2&t){const t=o.fc();o.Bb(1),o.lc("examination",t.examination)}}function w(t,e){if(1&t&&(o.Vb(0,"div"),o.Qb(1,"app-examination-student-list",6),o.Ub()),2&t){const t=o.fc();o.Bb(1),o.lc("examination",t.examination)}}function P(t,e){if(1&t&&(o.Vb(0,"div"),o.Qb(1,"app-test-list",6),o.Ub()),2&t){const t=o.fc();o.Bb(1),o.lc("examination",t.examination)}}let M=(()=>{class t{constructor(t,e,i){this._router=t,this._title=e,this._items=i,this.paths=[],this.breadCrumbItems=[],this.examination=i.get("examination")}ngOnInit(){this.breadCrumbItems=[{name:"Schools",url:"/schools"},{name:this.examination.school.name,url:`${this.examination.school.url}`},{name:"Examens",url:`${this.examination.school.url}/examinations`},{name:this.examination.name,url:`${this.examination.url}`}],this.breadCrumbItems.push(...this.paths),this.title?(this.breadCrumbItems.push({name:this.title}),this._title.setTitle(this.title)):this._title.setTitle(this.examination.name)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(a.b),o.Pb(c.e),o.Pb(l.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-examination-school-page-layout"]],inputs:{examination:"examination",paths:"paths",title:"title"},decls:16,vars:1,consts:[[3,"breadcrumbItems"],["id","home"],["id","departments"],["id","students"],["id","tests"],[4,"msPivotContentDef"],[3,"examination"]],template:function(t,e){1&t&&(o.Vb(0,"app-layout",0),o.Vb(1,"msPivot"),o.Vb(2,"msPivotHeader"),o.Vb(3,"msPivotLabel",1),o.Ac(4,"Accueil"),o.Ub(),o.Vb(5,"msPivotLabel",2),o.Ac(6,"D\xe9partements"),o.Ub(),o.Vb(7,"msPivotLabel",3),o.Ac(8,"\xc9tudiants"),o.Ub(),o.Vb(9,"msPivotLabel",4),o.Ac(10,"\xc9preuves"),o.Ub(),o.Ub(),o.Vb(11,"msPivotBody"),o.yc(12,I,2,1,"div",5),o.yc(13,D,2,1,"div",5),o.yc(14,w,2,1,"div",5),o.yc(15,P,2,1,"div",5),o.Ub(),o.Ub(),o.Ub()),2&t&&o.lc("breadcrumbItems",e.breadCrumbItems)},directives:[m.a,b.a,b.d,b.e,b.b,b.c,y,A,L.a,S.a],encapsulation:2}),t})();var k=i("EEi/"),T=i("MHz2");i.d(e,"routes",(function(){return _})),i.d(e,"ExaminationSchoolPageModule",(function(){return N}));const _=[{path:"",component:M}];let N=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[n.c,a.e.forChild(_),s.m,s.F,k.a,h.g,b.f,T.d,x.c]]}),t})()},SHIK:function(t,e,i){"use strict";i.d(e,"a",(function(){return S}));var n=i("mrSG"),a=i("uPkw"),s=i("Lfng"),o=i("fXoL"),c=i("axUC"),l=i("3Pt+"),m=i("+m0u"),b=i("ofXK"),r=i("IKK4"),d=i("A/bf"),u=i("EuvG"),x=i("QUrN");function h(t,e){if(1&t&&o.Qb(0,"msPaginatorButtons",9),2&t){o.fc();const t=o.qc(3);o.lc("paginator",t)}}const p=function(){return["levelIndex","number"]},f=function(){return["fullName","string"]},g=function(){return["registrationNumber","string"]},V=function(){return["birthDate","date"]},U=function(){return["gender","string"]},v=function(){return["specialityName","string"]};function y(t,e){1&t&&(o.Vb(0,"msTableHead"),o.Vb(1,"msTableHeadCell",14),o.Ac(2,"#"),o.Ub(),o.Vb(3,"msTableHeadCell",15),o.Ac(4,"Niveau"),o.Ub(),o.Vb(5,"msTableHeadCell",16),o.Ac(6,"Nom & pr\xe9nom"),o.Ub(),o.Vb(7,"msTableHeadCell",17),o.Ac(8,"Matricule "),o.Ub(),o.Vb(9,"msTableHeadCell",18),o.Ac(10,"Date de naissance"),o.Ub(),o.Vb(11,"msTableHeadCell",19),o.Ac(12,"Genre"),o.Ub(),o.Vb(13,"msTableHeadCell",15),o.Ac(14,"Niveau"),o.Ub(),o.Vb(15,"msTableHeadCell",20),o.Ac(16,"Sp\xe9cialit\xe9"),o.Ub(),o.Vb(17,"msTableHeadCell",21),o.Ac(18,"Utilisateur"),o.Ub(),o.Vb(19,"msTableHeadCell",22),o.Qb(20,"i",23),o.Ub(),o.Ub()),2&t&&(o.Bb(3),o.lc("sortBy",o.nc(7,p)),o.Bb(2),o.lc("sortBy",o.nc(8,f)),o.Bb(2),o.lc("sortBy",o.nc(9,g)),o.Bb(2),o.lc("sortBy",o.nc(10,V)),o.Bb(2),o.lc("sortBy",o.nc(11,U)),o.Bb(2),o.lc("sortBy",o.nc(12,p)),o.Bb(2),o.lc("sortBy",o.nc(13,v)))}function B(t,e){if(1&t&&o.Qb(0,"user-persona",31),2&t){const t=o.fc().$implicit;o.lc("user",t.student.user)}}function C(t,e){if(1&t){const t=o.Wb();o.Vb(0,"ms-tableRow",24),o.Vb(1,"ms-tableCell"),o.Ac(2),o.Ub(),o.Vb(3,"ms-tableCell"),o.Ac(4),o.Ub(),o.Vb(5,"ms-tableCell"),o.Vb(6,"div",25),o.Ac(7),o.Ub(),o.Ub(),o.Vb(8,"ms-tableCell",26),o.Ac(9),o.Ub(),o.Vb(10,"ms-tableCell"),o.Ac(11),o.gc(12,"amCalendar"),o.Ub(),o.Vb(13,"ms-tableCell"),o.Ac(14),o.Ub(),o.Vb(15,"ms-tableCell",27),o.Ac(16),o.Ub(),o.Vb(17,"ms-tableCell",27),o.Ac(18),o.Ub(),o.Vb(19,"ms-tableCell"),o.yc(20,B,1,1,"user-persona",28),o.Ub(),o.Vb(21,"ms-tableCell",29),o.Vb(22,"button",30),o.dc("click",(function(){o.rc(t);const i=e.$implicit;return o.fc(3).service.studentsDetails(i)})),o.Ac(23,"D\xe9tails"),o.Ub(),o.Ub(),o.Ub()}if(2&t){const t=e.$implicit,i=e.index,n=o.fc().start;o.lc("value",t),o.Bb(2),o.Bc(i+n+1),o.Bb(2),o.Bc(t.levelIndex+1),o.Bb(3),o.Bc(t.student.fullName),o.Bb(2),o.Cc(" ",t.student.registrationId," "),o.Bb(2),o.Cc(" ",o.hc(12,10,t.student.birthDate)," "),o.Bb(3),o.Cc(" ",t.student.gender," "),o.Bb(2),o.Cc(" ",t.levelIndex+1," "),o.Bb(2),o.Cc(" ",t.specialityName," "),o.Bb(2),o.lc("ngIf",t.student.user)}}function A(t,e){if(1&t&&(o.Vb(0,"div"),o.Vb(1,"ms-table",10,11),o.yc(3,y,21,14,"msTableHead",12),o.yc(4,C,24,12,"ms-tableRow",13),o.Ub(),o.Ub()),2&t){const t=e.items;o.Bb(4),o.lc("ms-tableRowDefOf",t)}}function L(t,e){if(1&t&&(o.Vb(0,"div"),o.yc(1,h,1,1,"msPaginatorButtons",5),o.Vb(2,"msPaginator",6,7),o.yc(4,A,5,1,"div",8),o.Ub(),o.Ub()),2&t){const t=o.qc(3),e=o.fc();o.Bb(1),o.lc("ngIf",t),o.Bb(1),o.lc("totalSize",e.examinationStudents.length)("itemsFn",e.itemsFn)}}let S=(()=>{class t{constructor(t,e){this._examinationStudentLoader=t,this.service=e,this.examinationStudents=[],this.filterValue="",this._isLoaded=!1,this.itemsFn=(t,e)=>Promise.resolve(this.items.slice(t*e,t*e+e))}ngOnInit(){return Object(n.a)(this,void 0,void 0,(function*(){this.examinationLevelSpeciality&&(yield this._examinationStudentLoader.loadByExaminationLevelSpeciality(this.examinationLevelSpeciality)),this.examinationLevel&&(yield this._examinationStudentLoader.loadByExaminationLevel(this.examinationLevel)),this.examinationSpeciality&&(yield this._examinationStudentLoader.loadByExaminationSpeciality(this.examinationSpeciality)),this.examinationDepartment&&(yield this._examinationStudentLoader.loadByExaminationDepartment(this.examinationDepartment)),this.examination&&(yield this._examinationStudentLoader.loadByExamination(this.examination)),this.examinationStudents=this.getExaminationStudents().toArray().sort((t,e)=>t.student.fullName.localeCompare(e.student.fullName)),this._isLoaded=!0}))}search(){this.paginator.totalSize=this.items.length,this.paginator.reset(0)}getExaminationStudents(){return this.examinationLevelSpeciality?this.examinationLevelSpeciality.examinationStudents:this.examinationLevel?this.examinationLevel.examinationStudents:this.examinationSpeciality?this.examinationSpeciality.examinationStudents:this.examinationDepartment?this.examinationDepartment.examinationStudents:this.examination?this.examination.examinationStudents:void 0}get items(){return this.filterValue?this.examinationStudents.filter(t=>t.student.fullName.toLocaleLowerCase().indexOf(this.filterValue.toLocaleLowerCase())>-1||t.student.registrationId.toLocaleLowerCase().indexOf(this.filterValue.toLocaleLowerCase())>-1):this.examinationStudents.slice()}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(c.n),o.Pb(a.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-examination-student-list"]],viewQuery:function(t,e){var i;1&t&&(o.Fc(s.d,!0),o.Fc(s.a,!0)),2&t&&(o.pc(i=o.ec())&&(e.table=i.first),o.pc(i=o.ec())&&(e.paginator=i.first))},inputs:{examination:"examination",examinationDepartment:"examinationDepartment",examinationLevel:"examinationLevel",examinationSpeciality:"examinationSpeciality",examinationLevelSpeciality:"examinationLevelSpeciality"},decls:8,vars:5,consts:[[1,"ms-pageTitle"],[1,"d-flex","align-items-center","my-2",2,"min-width","200px","width","300px"],["placeholder","Nom ou matricule d'un \xe9tudiant","type","text",1,"ms-textField-input",2,"flex-grow","1",3,"ngModel","ngModelChange"],["msIconButton","","icon","Zoom","theme","primary",3,"click"],[4,"ngIf"],[3,"paginator",4,"ngIf"],["pageSize","50",3,"totalSize","itemsFn"],["msPaginator",""],[4,"ms-paginatorPageDef"],[3,"paginator"],[2,"max-height","500px"],["table",""],[4,"msTableHeadDef"],[3,"value",4,"ms-tableRowDef","ms-tableRowDefOf"],["name","#"],["name","levelIndex",3,"sortBy"],["name","fullName",3,"sortBy"],["name","registrationNumber",3,"sortBy"],["name","birthDate",3,"sortBy"],["name","gender",3,"sortBy"],["name","specialityName",3,"sortBy"],["name","user"],["name","actions",1,"text-right"],[1,"ms-Icon","ms-Icon--SetAction"],[3,"value"],[1,"ms-fontWeight-semibold","text-capitalize"],[1,"ms-fontWeight-semibold","ms-fontColor-sharedRed10"],[1,"ms-fontWeight-semibold"],[3,"user",4,"ngIf"],[2,"text-align","right"],["msButton","","theme","primary",3,"click"],[3,"user"]],template:function(t,e){1&t&&(o.Vb(0,"div",0),o.Vb(1,"h4"),o.Ac(2),o.gc(3,"ucFirst"),o.Ub(),o.Ub(),o.Vb(4,"div",1),o.Vb(5,"input",2),o.dc("ngModelChange",(function(t){return e.filterValue=t})),o.Ub(),o.Vb(6,"button",3),o.dc("click",(function(){return e.search()})),o.Ub(),o.Ub(),o.yc(7,L,5,3,"div",4)),2&t&&(o.Bb(2),o.Bc(o.hc(3,3,"\xe9tudiants")),o.Bb(3),o.lc("ngModel",e.filterValue),o.Bb(2),o.lc("ngIf",e._isLoaded))},directives:[l.a,l.i,l.l,m.d,b.t,s.a,s.c,r.a,s.d,s.h,s.k,s.f,s.g,s.j,s.e,m.b,d.a],pipes:[u.a,x.a],encapsulation:2}),t})()}}]);