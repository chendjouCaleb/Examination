<div class="flex-center-cover p-3">
  <div style="width: 600px; max-width: 98vw">
    <div class="ms-pageTitle">
      <div></div>
      <div>
        <button msIconButton icon="Cancel" theme="transparent" msDialogContent></button>
      </div>
    </div>
    <msPivot>
      <msPivotHeader>
        <msPivotLabel>Détails</msPivotLabel>
        <msPivotLabel>Horaires</msPivotLabel>
      </msPivotHeader>

      <msPivotBody>
        <div *msPivotContentDef>
          <div>
            <div class="ms-description-list">
              <dl>
                <dt>Utilisateur</dt>
                <dd>
                  <div style="position: relative">
                    <user-persona [user]="courseTeacher.teacher.user"></user-persona>
                    <app-icon style="position: absolute; left: 24px; top: 24px"
                              *ngIf="courseTeacher.isPrincipal" bgColor="sharedYellowGreen10"
                              icon="CheckMark"></app-icon>
                  </div>
                </dd>
              </dl>
              <dl>
                <dt>Cours</dt>
                <dd>{{courseTeacher.course.name}}</dd>
              </dl>

              <dl>
                <dt>Niveau</dt>
                <dd>{{courseTeacher.course.levelIndex + 1}}</dd>
              </dl>

              <dl>
                <dt>Roles</dt>
                <dd>
                  <div>
                    <span *ngIf="courseTeacher.lecture" class="ms-badge mr-2" msBgColor="sharedCyanBlue20">CM</span>
                    <span *ngIf="courseTeacher.tutorial" class="ms-badge" msBgColor="sharedRedOrange10">TD</span>
                  </div>
                </dd>
              </dl>
            </div>


            <div class="mt-3" *ngIf="courseTeacher.course.level.department.isPrincipalUser">
              <div class="ms-textField">
                <MsLabel class="ms-label" labelled text="Enseignant principal" htmlFor="isPrincipal">
                  <MsCheckbox [checked]="courseTeacher.isPrincipal" id="isPrincipal" name="isPrincipal"
                               (change)="principalChange($event)"></MsCheckbox>
                </MsLabel>
              </div>

              <div class="ms-textField mt-2">
                <MsLabel class="ms-label ms-pointer" labelled text="Cours magistral" htmlFor="lecture">
                  <MsCheckbox [checked]="courseTeacher.lecture" (change)="lectureChange($event)" id="lecture"
                               name="lecture"></MsCheckbox>
                </MsLabel>
              </div>

              <div class="ms-textField mt-2 d-flex align-items-center ms-pointer">
                <MsCheckbox [checked]="courseTeacher.tutorial" (change)="tutorialChange($event)" id="tutorial"
                             name="tutorial"></MsCheckbox>
                <MsLabel class="ml-2 ms-label" htmlFor="tutorial">Travaux dirigés</MsLabel>
              </div>
            </div>
          </div>
        </div>

        <div *msPivotContentDef>
          <app-course-hour-list [courseTeacher]="courseTeacher" [hiddenColumns]="['teacher', 'course', 'level']"></app-course-hour-list>
        </div>
      </msPivotBody>
    </msPivot>
  </div>
</div>
