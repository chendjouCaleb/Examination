﻿
<div class="d-flex justify-content-between align-items-center">
  <div class="ms-fontWeight-light ms-fontSize-18">Sécrétaires</div>

  <div class="text-right ml-5">
    <ng-container *ngIf="testGroup.relation.isPlanner">
      <MsfButton Icon="Add" [outline]="true" (click)="service.addTestGroupSecretaries(testGroup)">Ajouter</MsfButton>
    </ng-container>
  </div>
</div>

<div *ngIf="testGroup.testGroupSecretaries">
  <msAlert theme="severeWarning" *ngIf="testGroup.testGroupSecretaries?.length === 0" class="mt-2">
    Ce groupe n'a pas de sécrétaires.
  </msAlert>

  <MsfTable class="mt-2">
    <MsfTableRow *ngFor="let item of testGroup.testGroupSecretaries" [value]="item">
      <MsfTableCell class="py-1">
        <MsfPersona size="size32">
          <MsfPersonaFigure [text]="item.secretary.user.fullName"></MsfPersonaFigure>
          <MsfPersonaText>{{item.secretary.user.fullName}}</MsfPersonaText>
        </MsfPersona>
      </MsfTableCell>
      <MsfTableCell class="py-1">
        <ng-container *ngIf="testGroup.relation.isPlanner">
          <i class="ms-Icon ms-Icon--More p-2" [MsfMenuTrigger]="secretaryMore" style="cursor:pointer"></i>
          <MsfMenu #secretaryMore>
            <MsfMenuItem icon="Delete" theme="error" (click)="service.removeTestGroupSecretary(testGroup, item)">
              Supprimer
            </MsfMenuItem>
          </MsfMenu>
        </ng-container>
      </MsfTableCell>
    </MsfTableRow>
  </MsfTable>
</div>
