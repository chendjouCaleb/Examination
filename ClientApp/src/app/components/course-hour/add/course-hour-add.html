<div class="flex-center-cover" *ngIf="form">
  <form class="ms-form" [formGroup]="form">
    <div class="ms-form-header ms-sticky-header">
      <div msFontSize="20">Ajouter un horaire</div>
      <button msIconButton icon="Cancel" class="ml-2" MsfModalClose theme="transparent" size="normal"></button>
    </div>


    <div class="ms-textField">
      <label for="course" class="ms-label">Choisir un cours</label>
      <MsfSelect id="course" formControlName="course" class="ms-textField-input" placeholder=""
                 (selectionchange)="loadCourseTeachers($event.value)">
        <MsfSelectOption *ngFor="let item of courses" [value]="item">
          {{item.name}}({{item.code}})
        </MsfSelectOption>
      </MsfSelect>
      <app-control-error controlName="course"></app-control-error>
    </div>

    <div class="ms-textField">
      <label for="courseTeacher" class="msf-label">Choisir un enseignant</label>
      <MsfSelect id="courseTeacher" formControlName="courseTeacher" class="ms-textField-input" placeholder="">
        <MsfSelectOption *ngFor="let item of courseTeachers" [value]="item">
          {{item.teacher.user.fullName}}
        </MsfSelectOption>
      </MsfSelect>
      <app-control-error controlName="courseTeacher"></app-control-error>
    </div>
    <div class="ms-fontSize-12">Si vous ne voyez un enseignant particulier dans cette liste,
      rassurez vous de l'avoir ajouté au cours sélectionné.</div>

    <div class="ms-textField">
      <label for="room" class="msf-label">Choisir une salle</label>
      <MsfSelect id="room" formControlName="room" class="ms-textField-input" placeholder="">
        <MsfSelectOption *ngFor="let item of rooms" [value]="item">
          {{item.name}}({{item.capacity}} places)
        </MsfSelectOption>
      </MsfSelect>
      <app-control-error controlName="room"></app-control-error>
    </div>


    <MsfRadioGroup formControlName="type">
      <div class="ms-textField d-flex align-items-center ms-pointer">
        <MsfRadio id="tutorial" [value]="'tutorial'" ></MsfRadio>
        <label class="ml-2 ms-label" for="tutorial">Travaux dirigés</label>
      </div>
      <div class="ms-textField d-flex align-items-center ms-pointer">
        <MsfRadio id="lecture" [value]="'lecture'" ></MsfRadio>
        <label class="ml-2 ms-label" for="lecture">Cours magistral</label>
      </div>
    </MsfRadioGroup>

    <div class="ms-textField">
      <label for="dayOfWeek" class="msf-label">Jour</label>
      <MsfSelect id="dayOfWeek" formControlName="dayOfWeek" class="ms-textField-input" placeholder="">
        <MsfSelectOption *ngFor="let item of days" [value]="item">
          {{item | dayOfWeek | ucFirst}}
        </MsfSelectOption>
      </MsfSelect>
      <app-control-error controlName="dayOfWeek"></app-control-error>
    </div>

    <div class="ms-textFieldGroup">
      <div class="ms-textField">
        <label for="startHour" class="msf-label">Heure de début</label>
        <input type="text" id="startHour" name="startHour" class="ms-textField-input" autocomplete="off" LocalTimeInput
               formControlName="startHour">
        <app-control-error controlName="startHour"></app-control-error>
      </div>

      <div class="ms-textField ml-2">
        <label for="endHour" class="msf-label">Heure de fin</label>
        <input type="text" id="endHour" name="endHour" class="ms-textField-input" autocomplete="off"
               formControlName="endHour" LocalTimeInput>
        <app-control-error controlName="endHour"></app-control-error>
      </div>
    </div>




    <div class="mt-4 text-right">
      <button msButton MsfModalClose class="mr-3">Annuler</button>
      <button msButton theme="primary" icon="Add" [disabled]="form.invalid" (click)="add()">Ajouter</button>
    </div>
  </form>
</div>
